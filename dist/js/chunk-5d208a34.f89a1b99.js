(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d208a34"],{"01d9":function(t,e,a){"use strict";a("24d0")},"24d0":function(t,e,a){},3188:function(t,e,a){},"3ef2":function(t,e,a){},"4e7b":function(t,e,a){},"52c4":function(t,e,a){t.exports=a.p+"img/empty_page_icon.e43b2826.png"},5795:function(t,e,a){t.exports=a.p+"img/avatar_boy.058f0cac.png"},"5fb9":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clazzSelecter-backGround"},[a("div",{staticClass:"clazzSelecter"},t._l(t.dataList,(function(e,n){return a("van-collapse",{key:n,staticClass:"collapse",attrs:{"is-link":!1},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("van-collapse-item",{attrs:{title:e.gradeName,name:n}},[a("van-row",{attrs:{justify:"space-around"}},t._l(e.subList,(function(e,n){return a("van-col",{key:n,attrs:{span:"6"}},[a("div",{staticClass:"clazzSelecter-item",on:{click:function(a){return t.clickItem(e)}}},[t._v(" "+t._s(e.clazzName)+" ")])])})),1)],1)],1)})),1)])},i=[],s=a("c98f"),r={name:"clazzSelecter",props:{activeIndexs:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{activeNames:[],dataList:[]}},mounted:function(){this.activeNames=this.activeIndexs,this.getGardenClassList()},methods:{clickItem:function(t){this.$emit("onSelectItem",t)},getGardenClassList:function(){var t=this;Object(s["e"])({isDisplayWithoutClazz:!1,isGraduated:!1,isGrouped:!0}).then((function(e){for(var a in t.dataList=e.data||[],t.dataList)t.activeNames.push(parseInt(a))}))}}},c=r,o=(a("ae92"),a("c701")),l=Object(o["a"])(c,n,i,!1,null,"0ba5ee14",null);e["a"]=l.exports},7774:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("van-row",{staticClass:"card-header"},[n("van-col",{attrs:{span:"12"}},[n("div",{staticClass:"card-title"},[n("span",[t._v(t._s(t.stat.title))])])]),n("van-col",{attrs:{span:"12"}},[n("div",{staticClass:"card-subtitle"},[t._v(t._s(t.stat.subTitle))])])],1),n("div",{staticClass:"card-body"},[t.stat.areaItemVOList&&t.stat.areaItemVOList.length?n("v-chart",{ref:"chart",style:{width:"100%",height:t.height+"px",maxHeight:t.height+"px",overflow:"hidden"},attrs:{initOptions:t.initOptions,options:t.chartOption}}):n("van-empty",{attrs:{description:t.$t("common.noData")}},[n("template",{slot:"image"},[n("img",{staticStyle:{height:"auto"},attrs:{src:a("52c4")}})])],2)],1)],1)},i=[],s=(a("72b3"),a("d0bf"),a("402f"),a("836b"),a("270f"),a("2a50")),r=(a("8a7b"),a("f035"),a("6722"),{props:{stat:{type:Object},dimension:{type:String,default:"joinUserNum"},color:{type:Array,default:function(){return["#39D8F0","#46BFFF"]}}},components:{"v-chart":s["a"]},data:function(){return{height:200,initOptions:{renderer:"svg"}}},watch:{height:function(t){this.$refs.chart.resize({height:t+"px"})}},computed:{chartOption:function(){var t=this;this.height=this.stat.areaItemVOList?50*this.stat.areaItemVOList.length:200;var e=1,a=[],n=[];return this.stat.areaItemVOList&&this.stat.areaItemVOList.forEach((function(i){a.push(i.areaName),n.push(i[t.dimension]),e=e>Number(i[t.dimension])?e:Number(i[t.dimension])})),{grid:{left:"0",right:15*e.toString().length+"px",top:"0",bottom:"0",containLabel:!0},yAxis:{type:"category",data:a,width:"20px",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#999",formatter:function(t){return t.length>6?t.substring(0,5)+"â€¦":t}}},xAxis:{type:"value",show:!1},series:{type:"bar",barWidth:"27px",label:{show:!0,position:"right"},itemStyle:{color:new s["a"].graphic.LinearGradient(0,0,1,0,[{offset:0,color:this.color[0]},{offset:1,color:this.color[1]}]),barBorderRadius:[0,13,13,0]},data:n}}}},mounted:function(){},methods:{}}),c=r,o=(a("b960"),a("c701")),l=Object(o["a"])(c,n,i,!1,null,"e188d612",null);e["a"]=l.exports},"84ac":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"date-step"},[a("span",{staticClass:"icon-block left-icon",on:{click:t.onLeftTimeClick}},[a("van-icon",{attrs:{name:"arrow-left"}})],1),a("span",{staticClass:"date"},[t._v(t._s(t.vDateString))]),a("span",{staticClass:"icon-block right-icon",on:{click:t.onRightTimeClick}},[a("van-icon",{directives:[{name:"show",rawName:"v-show",value:t.rightDateShow,expression:"rightDateShow"}],attrs:{name:"arrow"}})],1)])},i=[],s=(a("d0bf"),a("ad2b")),r={props:{date:{required:!0,type:[String,Number],default:(new Date).valueOf()}},data:function(){return{}},computed:{vDate:{get:function(){return new Date(Number(this.date)||"").valueOf()},set:function(t){this.$emit("update:date",t),this.$emit("step",{timeStamp:t,tiemString:this.vDateString})}},vDateString:function(){return Object(s["a"])(this.vDate,"{y}-{m}-{d}")},rightDateShow:function(){return new Date(this.vDateString).valueOf()+864e5<(new Date).valueOf()}},methods:{onLeftTimeClick:function(){this.vDate=this.dateStep(this.vDate,-1)},onRightTimeClick:function(){this.vDate=this.dateStep(this.vDate,1)},dateStep:function(t,e){return parseInt(t)+864e5*e}}},c=r,o=(a("9f96"),a("c701")),l=Object(o["a"])(c,n,i,!1,null,"7a2ea40a",null);e["a"]=l.exports},8847:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("van-row",{staticClass:"card-header"},[a("van-col",{attrs:{span:"16"}},[a("div",{staticClass:"card-title",on:{click:function(e){return e.stopPropagation(),t.$emit("titleClick",{areaType:t.stat.areaType})}}},[a("span",[t._v(t._s(t.stat.title||t.$t("wristband.realTimeStatistics")))])])]),a("van-col",{attrs:{span:"8"}},[a("div",{staticClass:"card-subtitle"},[t._v(t._s(t.stat.subTitle))])])],1),a("div",{staticClass:"card-body"},[a("div",{staticClass:"num"},[t._v(t._s(t.stat.allJoinUserNum))]),a("div",{staticClass:"num-descr"},[t._v(t._s(t.stat.joinDescr||(t.today&&1!=t.stat.areaType?t.$t("wristband.currentNumberOfParticipants"):t.$t("wristband.cumulativeNumberOfParticipants"))))])]),t.areaList&&t.areaList.length?[a("van-divider"),a("van-row",{staticClass:"card-foot"},t._l(t.areaList,(function(e,n){return a("van-col",{attrs:{span:"8"},on:{click:function(a){return t.showArea(e)}}},[a("div",{staticClass:"num"},[t._v(t._s(e.joinUserNum)),t.summary?t._e():a("van-icon",{attrs:{name:"arrow",size:"10"}})],1),a("div",{staticClass:"num-descr"},[t._v(t._s(e.areaName))])])})),1)]:t._e()],2)},i=[],s=a("d211"),r={props:{stat:{type:Object},summary:{type:Boolean,default:!1},today:{type:Boolean,default:!0}},data:function(){return{}},computed:{areaList:function(){return this.today&&1!=this.stat.areaType?this.stat.areaInfoVOList:this.stat.areaItemVOList}},mounted:function(){},methods:{showArea:function(t){this.summmay||this.$emit("showArea",Object(s["a"])(Object(s["a"])({},t),{},{areaType:this.stat.areaType}))}}},c=r,o=(a("9bfc"),a("c701")),l=Object(o["a"])(c,n,i,!1,null,"088050f8",null);e["a"]=l.exports},"9bfc":function(t,e,a){"use strict";a("4e7b")},"9f96":function(t,e,a){"use strict";a("3188")},a4fb:function(t,e,a){"use strict";a("445a");var n,i=a("28f8"),s=a("d722");e["a"]=(n={schoolSpaceList:function(t){return Object(s["b"])("/attendance/v1/schoolSpace/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},selectById:function(t){return Object(s["b"])("/attendance/v1/schoolArea/selectById",t)},schoolAreaList:function(t){return Object(s["b"])("/attendance/v1/schoolArea/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolAreaDelete:function(t){return Object(s["b"])("/attendance/v1/schoolArea/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolSpaceById:function(t){return Object(s["b"])("/attendance/v1/schoolSpace/selectById",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionSelectById:function(t){return Object(s["b"])("/attendance/v1/schoolPosition/selectById",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionInsert:function(t){return Object(s["b"])("/attendance/v1/schoolPosition/insert",t,{headers:{"Content-Type":"application/json"}})},getGardenClassList:function(t){return Object(s["b"])("/kid-arch/v1/teacher/clazz/teacher/grade-clazz-option",t)},clazzStatistical:function(t){var e="/attendance/v1/bandBind/clazzStatistical";return Object(s["b"])(e,t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},classStatisticalDetail:function(t){return Object(s["b"])("/attendance/v1/bandBind/clazzStatisticalDetail",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},bingdingSearch:function(t){return Object(s["b"])("/attendance/v1/bandBind/condition",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},bingdingWristband:function(t){return Object(s["b"])("/attendance/v1/bandBind/addStudent",t,{headers:{"Content-Type":"application/json"}})},unbindingWristband:function(t){return Object(s["b"])("/attendance/v1/bandBind/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolSpaceDelete:function(t){return Object(s["b"])("/attendance/v1/schoolSpace/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionDelete:function(t){return Object(s["b"])("/attendance/v1/schoolPosition/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolSpaceUpdate:function(t){return Object(s["b"])("/attendance/v1/schoolSpace/update",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionUpdate:function(t){return Object(s["b"])("/attendance/v1/schoolPosition/update",t,{headers:{"Content-Type":"application/json"}})},schoolSpaceSave:function(t){return Object(s["b"])("/attendance/v1/schoolSpace/insert",t,{headers:{"Content-Type":"application/json"}})},schoolPositionDeviceList:function(t){return Object(s["b"])("/attendance/v1/schoolPosition/deviceList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolAreaInsert:function(t){return Object(s["b"])("/attendance/v1/schoolArea/insert",t,{headers:{"Content-Type":" application/json"}})},schoolAreaUpdate:function(t){return Object(s["b"])("/attendance/v1/schoolArea/update",t,{headers:{"Content-Type":"application/json"}})},availablePosition:function(t){return Object(s["b"])("/attendance/v1/schoolPosition/availablePosition",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPositionParticipationStatistics:function(t){return Object(s["b"])("/attendance/v1/areaStatistic/dayArea",t)},getCornerManagerList:function(t){return Object(s["b"])("/attendance/v1/schoolPosition/deviceList",t)},updateBeacon:function(t){return Object(s["b"])("/attendance/v1/schoolPosition/updateDeviceName",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},bindBeacon:function(t){return Object(s["b"])("/attendance/v1/schoolPosition/bindDevice",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},unBindBeacon:function(t){return Object(s["b"])("/attendance/v1/schoolPosition/unbindDevice",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}},Object(i["a"])(n,"getPositionParticipationStatistics",(function(t){return Object(s["b"])("/attendance/v1/areaStatistic/dayArea",t)})),Object(i["a"])(n,"getAreaParticipationStatistics",(function(t){return Object(s["b"])("/attendance/v1/areaStatistic/dayAreaType",t)})),Object(i["a"])(n,"getClazzParticipationStatistics",(function(t){return Object(s["b"])("/attendance/v1/areaStatistic/dayAreaTypeDetail",t)})),Object(i["a"])(n,"getGradenParticipationStatistics",(function(t){return Object(s["b"])("/attendance/v1/areaStatistic/dayClazz",t)})),Object(i["a"])(n,"dayUserAreaTotal",(function(t){return Object(s["b"])("/attendance/v1/areaStatistic/dayUserArea",t)})),Object(i["a"])(n,"dayUserAreaDetail",(function(t){return Object(s["b"])("/attendance/v1/areaStatistic/dayUserDetail?date=".concat(t.date,"&userId=").concat(t.userId),"",{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getSleepDayTotalStatic",(function(t){return Object(s["b"])("/attendance/v1/sleepStatic/dayTotalStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getSleepCurrentTimeStatic",(function(t){return Object(s["b"])("/attendance/v1/sleepStatic/currentTimeStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getAllClazzSleepInfoStatic",(function(t){return Object(s["b"])("/attendance/v1/sleepStatic/getClazzInfoStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getUserSleepInfoByClazzId",(function(t){return Object(s["b"])("/attendance/v1/sleepStatic/getUserInfoByClazzId",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getTimePeriodSleepStatic",(function(t){return Object(s["b"])("/attendance/v1/sleepStatic/currentTimeStaticList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getClazzCurrentTimeSleepStaticList",(function(t){return Object(s["b"])("/attendance/v1/sleepStatic/clazzCurrentTimeStaticList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getClazzHistoryStaticList",(function(t){return Object(s["b"])("/attendance/v1/sleepStatic/clazzHistoryStaticList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getClazzChildSleepStaticList",(function(t){return Object(s["b"])("/attendance/v1/sleepStatic/clazzChildSleepStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getStudentSleepDayStatistics",(function(t){return Object(s["b"])("/attendance/v1/sleepStatic/userBaseInfoStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"checkDayIsHoliday",(function(t){return Object(s["b"])("/kid-arch/v1/teacher/holiday/getTypeByDay",t,{headers:{"Content-Type":"application/json"}})})),n)},ae92:function(t,e,a){"use strict";a("af12")},af12:function(t,e,a){},b960:function(t,e,a){"use strict";a("3ef2")},c98f:function(t,e,a){"use strict";a.d(e,"k",(function(){return i})),a.d(e,"j",(function(){return s})),a.d(e,"e",(function(){return r})),a.d(e,"c",(function(){return c})),a.d(e,"i",(function(){return o})),a.d(e,"l",(function(){return l})),a.d(e,"o",(function(){return u})),a.d(e,"n",(function(){return d})),a.d(e,"f",(function(){return p})),a.d(e,"d",(function(){return h})),a.d(e,"m",(function(){return f})),a.d(e,"h",(function(){return b})),a.d(e,"g",(function(){return v})),a.d(e,"b",(function(){return m})),a.d(e,"a",(function(){return w}));var n=a("d722");function i(t){return Object(n["b"])("/growth/v1/school-theme/clazz/stat",t)}function s(t){return Object(n["b"])("/growth/v1/clazz-theme/student/stat",t)}function r(t){return Object(n["b"])("/kid-arch/v1/teacher/clazz/teacher/grade-clazz-option",t)}function c(t){return Object(n["b"])("/growth/v1/clazz-theme/list",t)}function o(t){return Object(n["b"])("/growth/v1/clazz-theme/page/stat",t)}function l(t){return Object(n["b"])("/growth/v1/clazz-theme/page/get-by-pagination",t)}function u(t){return Object(n["b"])("/growth/v1/clazz-theme/write/page",t,{headers:{"Content-Type":"application/json"}})}function d(t){return Object(n["b"])("/growth/v1/student-growth/write/page",t,{headers:{"Content-Type":"application/json"}})}function p(t){return Object(n["b"])("/growth/v1/clazz-theme/preview/by-student-id",t)}function h(t){return Object(n["b"])("/growth/v1/clazz-theme/page/student/stat/get-by-clazzId",t)}function f(t){return Object(n["b"])("/growth/v1/clazz-theme/student/stat",t)}function b(t){return Object(n["b"])("/growth/v1/student-growth/get/current-growth/coverpage",t)}function v(t){return Object(n["b"])("/growth/v1/student-growth/contents-page",t)}function m(t){return Object(n["b"])("/growth/v1/student-growth/page/get-by-pagination",t)}function w(t){return Object(n["b"])("/growth/v1/student-growth/preview",t)}},f262:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"statistics"},[n("nav-bar",{attrs:{onlyBack:!0,border:!1},scopedSlots:t._u([{key:"title",fn:function(){return[1==t.areaType?n("span",{on:{click:function(e){t.clazzShow=!t.clazzShow}}},[t._v(t._s(t.$t("wristband.classArea")+"-"+t.clazzName)+" "),n("van-icon",{style:{transform:t.clazzShow?"rotate(-90deg)":"rotate(90deg)"},attrs:{name:"play",color:"#333",size:"12"}})],1):n("span",[t._v(t._s(t.title+t.$t("wristband.participationStatistics")))])]},proxy:!0}])}),n("div",{staticStyle:{position:"fixed","z-index":"100",top:"46px",width:"100%"}},[n("date-step",{attrs:{date:t.date},on:{"update:date":function(e){t.date=e}}})],1),n("div",{staticClass:"content"},[n("stat-card",{attrs:{stat:Object.assign({},t.statistics,{areaType:t.areaType,title:t.today==t.dateString&&1!=t.areaType?t.$t("wristband.realTimeData"):t.$t("wristband.dailyStatistics")}),today:t.today==t.dateString},on:{showArea:t.showArea}}),n("bar-card",{attrs:{stat:Object.assign({},t.statistics,{title:t.$t("wristband.itemizedCumulativeStatistics")})}}),n("div",{staticClass:"card clazz-stat"},[n("van-row",{staticClass:"card-header"},[n("van-col",{attrs:{span:"16"}},[n("div",{staticClass:"card-title"},[t._v(t._s(1==t.areaType?t.$t("wristband.studentParticipationStatistics"):t.$t("wristband.statisticsInClass")))])]),n("van-col",{attrs:{span:"8"}},[n("div",{staticClass:"card-subtitle"},[t._v(t._s(1==t.areaType?"":t.$t("wristband.numberOfParticipants")))])])],1),n("van-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[1==t.areaType?t._l(t.statistics.classBandAreaVOList,(function(e){return n("van-collapse-item",{attrs:{title:t.$t("wristband.name"),name:e.classId,value:t.$t("wristband.times")},nativeOn:{click:function(a){return t.showClazz(e.classId)}}},t._l(e.studentList,(function(i){return n("van-cell",{attrs:{value:i.times,"is-link":""},on:{click:function(a){return t.$router.push({path:"/wristband/studentTotal/index",query:{date:t.date,areaType:t.areaType,userId:i.userId,clazzId:e.classId,clazzName:e.className}})}},scopedSlots:t._u([{key:"title",fn:function(){return[n("van-image",{attrs:{round:"",src:i.fileResourceDTO?i.fileResourceDTO.thumbnailUrl:a("5795")}}),n("span",{staticClass:"student-name"},[t._v(t._s(i.userName))])]},proxy:!0}],null,!0)})})),1)})):t._l(t.statistics.classBandAreaVOList,(function(e){return n("van-collapse-item",{attrs:{title:e.className,value:e.joinUserNum,name:e.classId},nativeOn:{click:function(a){return t.showClazz(e.classId)}}},t._l(e.studentList,(function(i){return n("van-cell",{attrs:{value:t.$t("wristband.times")+i.times,"is-link":""},on:{click:function(a){return t.$router.push({path:"/wristband/studentTotal/index",query:{date:t.date,areaType:t.areaType,userId:i.userId,clazzId:e.classId,clazzName:e.className}})}},scopedSlots:t._u([{key:"title",fn:function(){return[n("van-image",{attrs:{round:"",src:i.fileResourceDTO?i.fileResourceDTO.thumbnailUrl:a("5795")}}),n("span",{staticClass:"student-name"},[t._v(t._s(i.userName))])]},proxy:!0}],null,!0)})})),1)}))],2)],1)],1),n("van-popup",{staticClass:"stat-popup",attrs:{position:"top"},model:{value:t.statShow,callback:function(e){t.statShow=e},expression:"statShow"}},[n("van-nav-bar",{attrs:{title:t.title+t.$t("wristband.participationStatistics"),"left-arrow":"",fixed:""},on:{"click-left":function(e){t.statShow=!1}}}),n("div",{staticClass:"area-title"},[t._v(t._s(t.areaDetail.areaName+"("+t.areaDetail.joinUserNum+")"))]),t._l(t.areaDetail.clazzList,(function(e){return n("van-cell-group",[n("van-cell",{attrs:{value:e.className+"("+e.userAreaVOS.length+")"}}),t._l(e.userAreaVOS,(function(i){return n("van-cell",{attrs:{value:t.today?"":t.$t("wristband.times")+"ï¼š"+e.joinTimes},scopedSlots:t._u([{key:"title",fn:function(){return[n("van-image",{attrs:{round:"",width:"21",height:"21",src:i.fileResourceDTO?i.fileResourceDTO.thumbnailUrl:a("5795")}}),n("span",{staticClass:"student-name"},[t._v(t._s(i.userName))])]},proxy:!0}],null,!0)})}))],2)})),n("van-empty",{directives:[{name:"show",rawName:"v-show",value:!parseInt(t.areaDetail.joinUserNum),expression:"!parseInt(areaDetail.joinUserNum)"}],attrs:{description:t.$t("common.noData")}},[n("template",{slot:"image"},[n("img",{staticStyle:{height:"auto"},attrs:{src:a("52c4")}})])],2)],2),n("van-popup",{staticClass:"clazz-popup",attrs:{position:"top"},model:{value:t.clazzShow,callback:function(e){t.clazzShow=e},expression:"clazzShow"}},[n("van-nav-bar",{attrs:{title:t.title+t.$t("wristband.participationStatistics"),"left-arrow":"",fixed:""},on:{"click-left":function(e){t.clazzShow=!1}}}),n("clazz-selecter",{on:{onSelectItem:t.onSelectClazz}})],1)],1)},i=[],s=(a("13cf"),a("1d7a"),a("402f"),a("d211")),r=(a("6a61"),a("2e91")),c=a("2939"),o=a("da1d"),l=a("84ac"),u=a("8847"),d=a("7774"),p=a("5fb9"),h=a("a4fb"),f=a("ad2b"),b={name:"wristband-statistics-area",components:{NavBar:o["a"],DateStep:l["a"],statCard:u["a"],barCard:d["a"],clazzSelecter:p["a"]},data:function(){return{areaType:this.$route.query.areaType,clazzId:this.$route.query.clazzId,clazzName:this.$route.query.clazzName,date:this.$route.query.date||(new Date).valueOf(),title:1==this.$route.query.areaType?this.$t("wristband.classArea"):2==this.$route.query.areaType?this.$t("wristband.commonArea"):this.$t("wristband.outSideArea"),activeNames:[],appData:c["a"].getAppData(),today:Object(f["a"])((new Date).valueOf(),"{y}-{m}-{d}"),statistics:{areaInfoVOList:[],classBandAreaVOList:[]},areaDetail:{clazzList:[],areaName:"",joinUserNum:""},statShow:!1,clazzShow:!1}},computed:{dateString:function(){return Object(f["a"])(this.date,"{y}-{m}-{d}")}},watch:{date:function(t){this.getStatistics()},"$attrs.isRefreshing":function(t){t&&(this.getStatistics(),this.$emit("appRefresh",!1))}},beforeRouteEnter:function(t,e,a){t.meta.keepAlive||(t.meta.keepAlive=!0,t=Object.assign({},t)),a()},beforeRouteLeave:function(t,e,a){"wristband-statistics-detail"!=t.name&&(e.meta.keepAlive=!1,e=Object.assign({},e)),a()},mounted:function(){this.getStatistics()},methods:{getStatistics:function(){var t=this;h["a"].getAreaParticipationStatistics({date:this.dateString,areaType:this.areaType,classId:this.clazzId}).then((function(e){t.statistics=e.data}))},getClazzStatistics:function(t){var e=this,a=t.classId,n=void 0===a?this.clazzId:a,i=t.areaId,s=void 0===i?void 0:i;return new Promise((function(t,a){h["a"].getClazzParticipationStatistics({date:e.dateString,areaType:e.areaType,areaId:s,classId:n}).then((function(e){t(e.data)}))}))},showArea:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$router.push({path:"detail",query:Object(s["a"])({clazzId:e.clazzId,date:e.date},t)});case 1:case"end":return a.stop()}}),a)})))()},showClazz:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n="",e.statistics.classBandAreaVOList.find((function(e){return e.classId==t})).studentList){a.next=9;break}return a.next=4,e.getClazzStatistics({classId:t});case 4:if(a.t0=a.sent,a.t0){a.next=7;break}a.t0=[];case 7:n=a.t0,e.$set(e.statistics.classBandAreaVOList.find((function(e){return e.classId==t})),"studentList",n.length>0?n[0].userAreaVOS:void 0);case 9:case"end":return a.stop()}}),a)})))()},onSelectClazz:function(t){this.clazzName=t.clazzName,this.clazzId=t.clazzId,this.getStatistics(),this.clazzShow=!1,this.statShow=!1}}},v=b,m=(a("01d9"),a("c701")),w=Object(m["a"])(v,n,i,!1,null,"4e623d7b",null);e["default"]=w.exports}}]);