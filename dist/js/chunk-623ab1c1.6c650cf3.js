(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-623ab1c1"],{"19f1":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"student"},[a("nav-bar",{attrs:{onlyBack:!0},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.deviceName)),a("img",{staticStyle:{"vertical-align":"-4px"},attrs:{width:"20",src:n("3624")("./icon_signal_"+t.rssiLevel+".png"),alt:""}})]},proxy:!0},{key:"right",fn:function(){return[a("span",{on:{click:function(e){return e.stopPropagation(),t.$router.push("search")}}},[t._v(t._s(t.$t("morningCheck.replace")))])]},proxy:!0}])}),a("van-tabs",{staticStyle:{position:"fixed",top:"44px",width:"100%"},attrs:{color:"#48D4C6"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("van-tab",{attrs:{title:t.$t("morningCheck.notMeasuredToday"),name:1}}),a("van-tab",{attrs:{title:t.$t("morningCheck.measuredToday"),name:2}})],1),a("div",{staticClass:"content"},[a("van-row",t._l(t.someStudentList,(function(e,i){return a("van-col",{key:i,attrs:{span:"12"},on:{click:function(n){return t.toScale(e)}}},[a("div",{staticClass:"stu-block"},[a("img",{attrs:{src:e.thumbnailUrl||n("5795")}}),a("span",[t._v(t._s(e.childName))])])])})),1)],1),a("my-recognise",{on:{getRecognition:t.getRecognition}}),a("my-dialog",{attrs:{show:t.dialogShow,stu:t.student},on:{"update:show":function(e){t.dialogShow=e},goRefresh:t.getLocalStudentList}})],1)},i=[],r=(n("445a"),n("cb3c"),n("13cf"),n("6540"),n("d211")),s=(n("6a61"),n("2e91")),c=(n("2939"),n("da1d")),u=n("268a"),o=n("b316"),d=n("05e0"),l=n("2a780"),h={name:"morningcheck-student",components:{NavBar:c["a"],MyRecognise:u["a"],MyDialog:o["a"]},data:function(){return{clazzId:this.$route.query.clazzId,studentList:[],student:{},type:1,dialogShow:!1,deviceName:this.$route.query.deviceName,rssiLevel:this.$route.query.rssiLevel||4}},computed:{someStudentList:function(){return 1===this.type?this.studentList.filter((function(t){return!t.weight||!t.height})):this.studentList.filter((function(t){return t.weight&&t.height}))}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.notifyBlueToothStatus=function(e){return t.notifyBlueToothStatus(e)},!Object(d["b"])(t.clazzId)){e.next=6;break}t.getLocalStudentList(),t.updateStudentList(),e.next=12;break;case 6:return e.t0=d["d"],e.next=9,t.getStudentList();case 9:e.t1=e.sent,(0,e.t0)(e.t1),t.getLocalStudentList();case 12:t.someStudentList.length<1&&(t.type=2);case 13:case"end":return e.stop()}}),e)})))()},methods:{getLocalStudentList:function(){this.studentList=Object(d["a"])(this.clazzId)},updateStudentList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getStudentList();case 2:n=e.sent,n.stuList=t.updateList(n.stuList,t.studentList),t.studentList=n.stuList,Object(d["d"])(n);case 6:case"end":return e.stop()}}),e)})))()},updateList:function(t,e){return t.map((function(t){var n=e.find((function(e){return e.accountId==t.accountId}));return n?Object(r["a"])(Object(r["a"])({},t),{},{weight:n.weight,height:n.height}):t}))},getStudentList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={clazzId:t.clazzId,stuList:[]},e.next=3,Object(l["b"])({clazzId:t.clazzId,type:1}).then((function(e){n.stuList=n.stuList.concat(e.data.map((function(e){return{accountId:e.accountId,clazzId:t.clazzId,childName:e.childName,thumbnailUrl:e.avatarShowImgUrl&&e.avatarShowImgUrl.thumbnailUrl,weight:"",height:""}}))||[])}));case 3:return e.next=5,Object(l["b"])({clazzId:t.clazzId,type:2}).then((function(e){n.stuList=n.stuList.concat(e.data.map((function(e){return{accountId:e.accountId,clazzId:t.clazzId,childName:e.childName,thumbnailUrl:e.avatarShowImgUrl&&e.avatarShowImgUrl.thumbnailUrl,weight:"",height:""}}))||[])}));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))()},toScale:function(t){this.student=t,this.dialogShow=!0},getRecognition:function(t){this.student=t,this.dialogShow=!0},notifyBlueToothStatus:function(t){1==t.parameters.code&&4==t.parameters.code||(this.rssiLevel=0)}}},g=h,f=(n("8f1f"),n("c701")),p=Object(f["a"])(g,a,i,!1,null,"d03892e0",null);e["default"]=p.exports},"36bb":function(t,e,n){},5795:function(t,e,n){t.exports=n.p+"img/avatar_boy.058f0cac.png"},"8f1f":function(t,e,n){"use strict";n("36bb")}}]);