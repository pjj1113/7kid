(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37d0d47c"],{"1c80":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABSklEQVRYR+2VMUoEQRBF+4/bNYGiICYiCAYaG3oAD+AhTLyAgbmRFzDZM3gAD2BsLIKBgmAggslU4XyZFWF22Znumdllk+60q/9//auahlvxwor9XQJICaQEBidAcss5twHgrc+T7gVAEqr24pzbr5sCoPejQwDPsTCdAUiuq9p3mwGQnYuMxjEQnQGKQhkjLOK3AXyGajsBFIXdOcezkGi1D6AU8Wuh2mgAkpuq9hUSnJ4JdyEit63tihVUtR+SWWz9f12eS+sloxIws6uy5HVX879WuEcROW46GwUQO3hNJiJ+F8D7vP0ggKp9kNzpc/v6maZWtAKY2WlZ8n6oeXU+y3Dpvb+Z1WoFGBr9rNm8FBoBVO2B5Mkibl/TeMpzOZp6qvMMSO6p2uuCzSdyIv4AQPWPTFZwCJcBEUxg2aYJICWQEkgJ1BP4BQYJXyE5J+2hAAAAAElFTkSuQmCC"},3735:function(t,i){t.exports="data:image/png;base64,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"},"81fe":function(t,i,e){},"836a":function(t,i,e){"use strict";e("83cd")},"83cd":function(t,i,e){},"9a4f":function(t,i,e){"use strict";e("9c36")},"9c36":function(t,i,e){},c2ea:function(t,i,e){"use strict";e.r(i);var o=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticStyle:{background:"white","padding-bottom":"20px",height:"100%"}},[o("nav-bar",{attrs:{title:t.$t("polling.polling")},scopedSlots:t._u([{key:"left",fn:function(){return[o("van-icon",{attrs:{name:"arrow-left"},on:{click:t.onClickLeft}})]},proxy:!0},{key:"right",fn:function(){return[o("strong",{on:{click:t.submit}},[o("span",{class:{rightBtn:t.unclick}},[t._v(t._s(t.$t("polling.submit")))])])]},proxy:!0}])}),o("div",{staticClass:"pointName",staticStyle:{"padding-top":"47px"}},[t._v(t._s(t.$t("polling.inField")))]),o("div",{staticStyle:{margin:"15px 20px 0px 20px",display:"flex",height:"100px"}},[t.photo.isAdd?o("div",{staticStyle:{background:"rgba(240,240,242,1)","border-radius":"8px",width:"100px"},on:{click:t.addImg}},[o("van-image",{staticStyle:{width:"30px",height:"26px",margin:"33px"},attrs:{src:e("3735"),fit:"contain",alt:""}})],1):o("van-image",{staticStyle:{height:"100px",width:"100px"},attrs:{src:t.photo.photo,radius:"8px",fit:"cover"},on:{click:t.preview}}),t.photo.isAdd?t._e():o("van-button",{staticStyle:{"margin-left":"20px","margin-top":"70px"},attrs:{round:"",type:"info",color:"linear-gradient(to right, #79DABD, #4CD7EC)",size:"small"},on:{click:t.addImg}},[t._v(t._s(t.$t("polling.rephotograph")))])],1),t._l(t.pageData.groupItems,(function(i,a){return o("div",{key:i.groupId,staticClass:"groups"},[o("div",{staticClass:"pointName",staticStyle:{"margin-top":"15px"}},[t._v(t._s(i.groupName)+"("+t._s(i.items.length)+")")]),t._l(i.items,(function(i,s){return o("div",{key:s},[o("div",{staticClass:"pointSubName"},[t._v(t._s(i.itemName))]),o("van-radio-group",{staticStyle:{display:"flex","margin-left":"20px"},attrs:{direction:"horizontal"},on:{change:function(i){return t.changeRadio(s)}},model:{value:i.optionValue,callback:function(e){t.$set(i,"optionValue",e)},expression:"item.optionValue"}},t._l(i.options,(function(e,n){return o("div",{key:n,staticStyle:{flex:"1",display:"flex",overflow:"scroll","font-size":"18px"}},[o("van-radio",{attrs:{name:e.optionValue,"checked-color":"#79DABD"}},[t._v(" "+t._s(e.optionName)+" ")]),i.hasWrite&&2==i.optionValue&&2==e.optionValue?o("div",{staticStyle:{color:"rgba(72,212,198,1)","font-size":"15px","margin-left":"10px"},on:{click:function(i){return t.toWriteError(s,a,!1)}}},[t._v("已填写 >")]):t._e()],1)})),0),2!=i.optionValue||i.hasWrite?t._e():o("van-image",{staticStyle:{width:"20px",height:"15px",margin:"10px 10px -12px 195px"},attrs:{src:e("1c80"),alt:""}}),2!=i.optionValue||i.hasWrite?t._e():o("div",{staticClass:"exceptArea"},[o("div",{staticClass:"p"},[t._v(t._s(t.$t("polling.PleaseFillInTheDetails")))]),o("van-button",{attrs:{round:"",type:"info",plain:"",color:"#27CBBB"},on:{click:function(i){return t.toWriteError(s,a,!0)}}},[t._v(t._s(t.$t("polling.FillDetails")))])],1)],1)}))],2)})),o("writeExeption",{attrs:{showWriteExeption:t.showWriteExeption,pageData:t.pageData,index1:t.index1,index0:t.index0,infileList:t.infileList},on:{getPatralAbnormal:t.getPatralAbnormal,cancle:t.cancle,errorFinish:t.errorFinish}})],2)},a=[],s=(e("cb3c"),e("72b3"),e("6540"),e("989e"),e("270f"),e("da1d")),n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("van-popup",{style:{width:"100%",height:"100%",background:"#F9F9FA"},attrs:{position:"right"},model:{value:t.showWriteExeption,callback:function(i){t.showWriteExeption=i},expression:"showWriteExeption"}},[e("div",{staticClass:"nav-bar"},[e("van-icon",{staticClass:"nav-go",attrs:{name:"arrow-left"},on:{click:t.onClickLeft}}),e("span",{staticClass:"nav-title",staticStyle:{"font-size":"20px","font-weight":"600"}},[t._v(t._s(t.$t("polling.FillException")))]),e("strong",{staticClass:"van-right",staticStyle:{"font-size":"18px","font-weight":"500"},on:{click:t.submit}},[t._v(t._s(t.$t("polling.sure")))])],1),e("div",{staticStyle:{margin:"12px","padding-top":"47px"}},[e("van-field",{staticStyle:{"font-size":"18px"},attrs:{rows:"5",autosize:"",maxlength:"100",type:"textarea",placeholder:t.$t("polling.FillException2")},on:{input:t.textChang},model:{value:t.message,callback:function(i){t.message=i},expression:"message"}})],1),t.showWriteExeption?e("vantUploader",{ref:"uploader",attrs:{fileList:t.fileInfo,uploaderFlag:!0,mediaSheetActions:t.mediaSheetActions}}):t._e()],1)],1)},r=[],c=(e("d0bf"),e("0bd5"),e("79a8"),e("2939")),l=e("d9db"),d=e("8234"),h={mounted:function(){var t=this;window.sendRecord=function(i){return t.getRecordData(i)}},components:{uploader:l["a"],NavBar:s["a"],vantUploader:d["a"]},props:{showWriteExeption:Boolean,pageData:Object,index1:Number,index0:Number,infileList:Array},watch:{showWriteExeption:function(t){t&&(this.pageData.groupItems[this.index0].items[this.index1].hasWrite?(console.log(this.pageData),this.message=this.pageData.groupItems[this.index0].items[this.index1].remark,this.fileInfo=this.pageData.groupItems[this.index0].items[this.index1].fileInfo,this.voices=this.pageData.groupItems[this.index0].items[this.index1].voiceInfo):(console.log(this.pageData),this.message="",this.voices=[{indexs:this.voiceIndex,isAdd:!0,voiceId:"",voiceUrl:"",times:""}]))}},methods:{submit:function(){this.infileList.length>0||this.voices>1||""!=this.pageData.groupItems[this.index0].items[this.index1].remark?(console.log(),console.log(this.$refs.uploader),this.$emit("getPatralAbnormal",{list:this.$refs.uploader.dataList,remark:this.message,index0:this.index0,index1:this.index1}),this.$emit("errorFinish",this.pageData)):this.$toast(this.$t("polling.FillException3"))},onClickLeft:function(){var t=this;this.infileList.length>1||this.voices>1||""!=this.message?this.$dialog.confirm({title:"",message:this.$t("polling.NosaveReturn"),width:"270px",confirmButtonText:"返回",confirmButtonColor:"#48D4C6",cancelButtonText:"再想想",cancelButtonColor:"#999999"}).then((function(){null!=t.audio&&t.audio.pause(),t.$emit("cancle")})):(null!=this.audio&&this.audio.pause(),this.$emit("cancle"))},getRecordData:function(t){var i={indexs:this.voiceIndex,isAdd:!1,voiceId:t.parameters.data[0].id,voiceUrl:t.parameters.data[0].url,times:t.parameters.time,duration:0},e=i.times.split(":");i.duration=Number(60*e[0])+Number(e[1]),this.voices.push(i),this.voices.length<6&&this.voices.push(this.addVoicedata),this.isRecording=!1,this.$forceUpdate()},addVoice:function(){this.voiceIndex++,this.voices.pop();var t={method:"takeRecord",parameters:{maxLength:"300"},callback:"sendRecord"};this.isRecording=!0,c["a"].callNative(t)},deleteVoice:function(t){null!=this.audio&&this.audio.pause(),this.voiceIndex++,6!=this.voices.length||this.voices[5].isAdd||this.voices.push(this.addVoicedata),this.voices.splice(t,1)},playVoice:function(t){var i=this;null==this.audio||this.audio.paused?(this.audio=new Audio(this.voices[t].voiceUrl),this.playingRecordUrl=this.voices[t].voiceUrl,this.audio.play(),console.log(this.voices[t].duration),this.t=setTimeout((function(){i.audio.paused||(i.audio.pause(),i.playingRecordUrl="")}),1e3*this.voices[t].duration)):(this.audio.pause(),this.playingRecordUrl="",clearTimeout(this.t))},textChang:function(t){this.pageData.groupItems[this.index0].items[this.index1].remark=t},onMediaSelect:function(t){var i={method:"selectMediaDataFromNative",parameters:{},callback:"receiveMediaDataFromNative"},e=6-this.infileList.length;0==t?i.method="takePhoto":1==t?(i.method="takeVideo",i.parameters={videoMaxTime:180}):2==t?(i.parameters={imageMaxCount:e},i.method="selectAlbum"):3==t&&(i.parameters={videoMaxTime:180},i.method="selectVideo"),c["a"].callNative(i)},onReUpload:function(t){var i={method:"reUploadMediaFromNative",parameters:{id:t.id,path:t.path},callback:"receiveMediaDataFromeNative"};c["a"].callNative(i)}},data:function(){return{message:"",audio:null,indexs:1,fileList:[],playingRecordUrl:"",t:"",mediaSheetActions:[{name:this.$t("polling.photo")},{name:this.$t("polling.video")},{name:this.$t("polling.photoFromAlbum")},{name:this.$t("polling.videoFromAlbum")},{name:this.$t("polling.voice")}],fileInfo:[],isRecording:!1,voiceIndex:1,recordTime:10,addVoicedata:{indexs:this.voiceIndex,isAdd:!0,voiceId:"",voiceUrl:"",times:""},voice:{indexs:this.voiceIndex,isAdd:!1,voice:"http://img.qqzhi.com/uploads/2018-12-12/133921715.jpg",times:this.voiceIndex},voices:[{indexs:this.voiceIndex,isAdd:!0,voiceId:"",voiceUrl:"",times:""}]}}},p=h,u=(e("9a4f"),e("c701")),m=Object(u["a"])(p,n,r,!1,null,"54a08a48",null),g=m.exports,f=e("0319"),x={mounted:function(){var t=this;window.receiveMediaDataFrom=function(i){return t.getPicData(i)},f["a"].getPersonalOrderPoint({orderBizId:this.orderBizId,pointId:this.pointId}).then((function(i){t.pageData=i.data,t.pageData.groupItems.forEach((function(t){t.items.forEach((function(t){t.hasWrite=!1,t.fileInfo=[],t.voiceInfo=[],t.remark=""}))}))})).catch((function(i){t.$router.go(-1)})),window.kidBackPress=function(){return!!t.showWriteExeption&&(t.cancle(),!0)}},data:function(){return{showWriteExeption:!1,index1:0,index0:0,unclick:!0,pointId:this.$route.query.pointId,orderBizId:this.$route.query.orderBizId,indexs:0,changeIndex:0,infileList:[],photo:{indexs:this.indexs,isAdd:!0,photo:""},addImgdata:{indexs:this.indexs,isAdd:!0,photo:""},pageData:{orderBizId:"",pointId:"",items:[]}}},components:{writeExeption:g,navBar:s["a"]},methods:{getPatralAbnormal:function(t){console.log(t),this.$set(this.pageData.groupItems[t.index0].items[t.index1],"fileInfo",t.list),this.pageData.groupItems[t.index0].items[t.index1].hasWrite=!0,this.pageData.groupItems[t.index0].items[t.index1].remark=t.remark,this.pageData.groupItems[t.index0].items[t.index1].resources=[],this.pageData.groupItems[t.index0].items[t.index1].resources=t.list.map((function(t){return{resourceId:t.id,resourceType:t.resourceType}}))},submit:function(){var t=this,i=!0;if(this.pageData.groupItems.forEach((function(t){t.items.forEach((function(t){""==t.optionValue||null==t.optionValue?i=!1:2!=t.optionValue||t.hasWrite||(i=!1)}))})),this.photo.isAdd&&(i=!1),i){var e={orderBizId:this.orderBizId,pointId:this.pointId,pickType:1,resources:[{resourceId:this.photo.indexs,resourceType:1}],itemResults:[]};this.pageData.groupItems.forEach((function(t){t.items.forEach((function(t){var i;t.options=t.options.filter((function(i){return i.optionValue==t.optionValue})),i=2==t.optionValue?{itemId:t.itemId,remark:t.remark,resources:t.resources,optionVals:t.options[0].optionId+"_"+t.optionValue}:{itemId:t.itemId,optionVals:t.options[0].optionId+"_"+t.optionValue},e.itemResults.push(i)}))})),f["a"].pointPick(e).then((function(i){"common-0001"==i.code&&t.$router.go(-1)}))}},onClickLeft:function(){var t=this,i=!1;this.pageData.groupItems.forEach((function(t){t.items.forEach((function(t){""!=t.optionValue&&null!=t.optionValue&&void 0!=t.optionValue&&(i=!0)}))})),this.photo.isAdd||(i=!0),i?this.$dialog.confirm({title:"",message:this.$t("polling.backAlertmsg"),width:"270px",confirmButtonText:this.$t("polling.sure"),confirmButtonColor:"#48D4C6",cancelButtonText:this.$t("polling.cancel"),cancelButtonColor:"#999999"}).then((function(){t.$router.go(-1)})):this.$router.go(-1)},changeRadio:function(t,i){this.changeIndex=100*Math.random()+0},cancle:function(){this.infileList=[],this.showWriteExeption=!1},toWriteError:function(t,i,e){this.index1=t,this.index0=i,this.showWriteExeption=!0},errorFinish:function(t){this.infileList=[],this.changeIndex=100*Math.random()+0,this.showWriteExeption=!1},addImg:function(){var t={method:"takePhoto",parameters:{waterMask:!0},callback:"receiveMediaDataFrom"};c["a"].callNative(t)},getExistFile:function(t){var i=null;return this.infileList.forEach((function(e){e.id==t.id&&(i=e)})),i},getPicData:function(t){var i=this;if(console.log(t,999),this.showWriteExeption){var e=t.parameters.data;e.forEach((function(t){var e=1==t.type,o="";o=e?t.upDataAliResponse.snapshotUrl:t.upDataAliResponse.url,console.log(o);var a=i.getExistFile(t);null!=a?(a.progress=t.progress,a.url=o,a.videoUrl=t.upDataAliResponse.url,a.status=t.status,a.resourceData=t.upDataAliResponse):i.infileList.push({url:o,isVideo:e,videoUrl:t.upDataAliResponse.url,progress:t.percent,id:t.id,path:t.path,status:t.status,resourceData:t.upDataAliResponse})}))}else{var o=t.parameters.data[0].upDataAliResponse.url;console.log(o);var a={indexs:t.parameters.data[0].upDataAliResponse.id,isAdd:!1,photo:o};this.photo=a}return!0},preview:function(){var t=[];t.push({url:this.photo.photo,type:1});var i={method:"imagesPreview",parameters:{images:t,index:0},callback:""};c["a"].callNative(i)},deleteImg:function(t){this.indexs++,6!=this.photo.length||this.photo[5].isAdd||this.photo.push(this.addImgdata),this.photo.splice(t,1)}},watch:{photo:function(t){var i=this;this.unclick=!1,this.pageData.groupItems.forEach((function(t){t.items.forEach((function(t){""==t.optionValue||null==t.optionValue?i.unclick=!0:2!=t.optionValue||t.hasWrite||(i.unclick=!0)}))})),this.photo.isAdd&&(this.unclick=!0)},changeIndex:function(t){var i=this;this.unclick=!1,this.pageData.groupItems.forEach((function(t){t.items.forEach((function(t){""==t.optionValue||null==t.optionValue?i.unclick=!0:2!=t.optionValue||t.hasWrite||(i.unclick=!0)}))})),this.photo.isAdd&&(this.unclick=!0)}}},v=x,A=(e("836a"),Object(u["a"])(v,o,a,!1,null,"4cf079dc",null));i["default"]=A.exports},d9db:function(t,i,e){"use strict";var o=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",[o("van-row",{attrs:{justify:"space-around"}},[t._l(t.dataList,(function(i,a){return o("van-col",{key:a,staticClass:"item",style:"height:"+t.imageWidth+"px;width: "+t.imageWidth+"px"},[o("div",{staticStyle:{width:"100%",height:"100%",position:"relative"}},[o("van-image",{staticClass:"image",staticStyle:{width:"100%",height:"100%"},attrs:{src:i.url,fit:"cover","error-icon":"photo-o",radius:"5px"},on:{click:function(i){return t.preview(a)}}}),o("img",{directives:[{name:"show",rawName:"v-show",value:i.isVideo,expression:"item.isVideo"}],staticClass:"video-icon",staticStyle:{width:"60px",height:"60px"},attrs:{src:e("2810")},on:{click:function(i){return t.preview(a)}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:1!=i.status,expression:"item.status != 1"}],staticClass:"corver"},[o("van-circle",{directives:[{name:"show",rawName:"v-show",value:2!=i.status,expression:"item.status != 2"}],staticClass:"progress-circle",attrs:{rate:i.progress,speed:100,size:"50px",text:""},model:{value:i.currentRate,callback:function(e){t.$set(i,"currentRate",e)},expression:"item.currentRate"}}),o("div",{directives:[{name:"show",rawName:"v-show",value:2==i.status,expression:"item.status == 2"}],staticStyle:{position:"relative:width:100%",height:"100%"},on:{click:function(e){return t.onReUpload(i)}}},[o("van-icon",{staticStyle:{position:"absolute",margin:"auto",left:"0px",right:"0px",width:"20px",height:"20px",top:"30px"},attrs:{name:"fail",color:"#fff",size:"20"}}),o("div",{staticStyle:{position:"absolute",margin:"auto",top:"20px",bottom:"0px","text-align":"center","font-size":"13px",width:"100%",height:"20px"}},[t._v(" "+t._s(t.$t("polling.reupload"))+" ")])],1)],1),o("img",{directives:[{name:"show",rawName:"v-show",value:0!=i.status,expression:"item.status != 0"}],staticClass:"delete",attrs:{src:e("2445")},on:{click:function(e){return t.deleteFile(i)}}})],1)])})),o("van-col",{directives:[{name:"show",rawName:"v-show",value:t.showAdd,expression:"showAdd"}],staticClass:"item-add",style:"height:"+t.imageWidth+"px;width: "+t.imageWidth+"px"},[o("img",{staticStyle:{width:"100%",height:"100%","border-radius":"5px"},attrs:{src:e("a010")},on:{click:t.onChooseFile}})])],2),o("van-action-sheet",{attrs:{actions:t.mediaSheetActions,"cancel-text":t.$t("polling.cancel"),"close-on-click-action":""},on:{select:t.mediaSelect},model:{value:t.mediaSheetShow,callback:function(i){t.mediaSheetShow=i},expression:"mediaSheetShow"}})],1)},a=[],s=(e("72b3"),e("a543"),e("989e"),e("1d7a"),e("d0bf"),e("270f"),e("28f8")),n=(e("f354"),e("f73a")),r=e("2939"),c={name:"uploader",props:{maxCount:{type:Number,required:!1,default:6},fileList:{type:Array,required:!0},mediaSheetActions:{type:Array,required:!0}},components:Object(s["a"])({},n["a"].Component.name,n["a"].Component),data:function(){return{screenWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,imageWidth:0,showAdd:!0,dataList:[],mediaSheetShow:!1}},mounted:function(){this.dataList=this.fileList,this.imageWidth=1*(this.screenWidth-40)/3},watch:{fileList:function(t){this.dataList=t,this.fileList=t,this.fileList.length>=this.maxCount?this.showAdd=!1:this.showAdd=!0}},methods:{onChooseFile:function(){this.mediaSheetShow=!0},deleteFile:function(t){var i=this.fileList.indexOf(t);this.fileList.splice(i,1)},onReUpload:function(t){this.$emit("reUpload",t)},mediaSelect:function(t,i){this.mediaSheetShow=!1,this.$emit("mediaSelect",i)},preview:function(t){var i=[];this.fileList.forEach((function(t){var e=t.url,o=1;t.isVideo&&(e=t.videoUrl,o=2),i.push({url:e,type:o})}));var e={method:"imagesPreview",parameters:{images:i,index:t},callback:""};r["a"].callNative(e)}}},l=c,d=(e("e613"),e("c701")),h=Object(d["a"])(l,o,a,!1,null,"1722965f",null);i["a"]=h.exports},e613:function(t,i,e){"use strict";e("81fe")}}]);