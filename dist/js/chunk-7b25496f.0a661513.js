(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b25496f"],{"0319":function(t,e,o){"use strict";var n,a=o("28f8"),r=o("d722");o("46e5");e["a"]=(n={pollingOptionAddGroup:function(t){return Object(r["b"])("/patrol/v1/patrol-item-cate/add",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingOptionAddOption:function(t){return Object(r["b"])("/patrol/v1/patrol-item/add",t,{headers:{"Content-Type":"application/json"}})},pollingOptionUpdateOption:function(t){return Object(r["b"])("/patrol/v1/patrol-item/update",t,{headers:{"Content-Type":"application/json"}})},pollingOptionDeleteOption:function(t){return Object(r["b"])("/patrol/v1/patrol-item/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPollingOptionGroupList:function(t){return Object(r["b"])("/patrol/v1/patrol-item-cate/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPollingOptionItemsList:function(t){return Object(r["b"])("/patrol/v1/patrol-item/get-list-by-cate",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPollingOptionItemDetail:function(t){return Object(r["b"])("/patrol/v1/patrol-item/detail",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingOptionDeleteGroup:function(t){return Object(r["b"])("/patrol/v1/patrol-item-cate/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingOptionModifyGroup:function(t){return Object(r["b"])("/patrol/v1/patrol-item-cate/update",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingOptionSearchGroup:function(t){return Object(r["b"])("/patrol/v1/patrol-item/search",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPolllingGroupList:function(t){return Object(r["b"])("/patrol/v1/patrol-group/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPollingGroupPersonList:function(t){return Object(r["b"])("/patrol/v1/patrol-group-user-ref/group-user-list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupAddPersionToGroup:function(t){return Object(r["b"])("/patrol/v1/patrol-group-user-ref/add",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},groupUserOption:function(t){return Object(r["b"])("/patrol/v1/patrol-group-user-ref/group-user-option",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupSearchPerson:function(t){return Object(r["b"])("/patrol/v1/patrol-group-user-ref/search",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupAddGroup:function(t){return Object(r["b"])("/patrol/v1/patrol-group/add",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupDeleteGroup:function(t){return Object(r["b"])("/patrol/v1/patrol-group/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupModifyGroup:function(t){return Object(r["b"])("/patrol/v1/patrol-group/update",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupDeletePersion:function(t){return Object(r["b"])("/patrol/v1/patrol-group-user-ref/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},queryDeletePersion:function(t){return Object(r["b"])("/patrol/v1/patrol-group-user-ref/whether-has-ref-order",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupGetPersionList:function(t){return Object(r["b"])("/patrol/v1/patrol-group/staff-list",t,{headers:{"Content-Type":"application/json"}})},pollingGroupSearchPersion:function(t){return Object(r["b"])("/patrol/v1/patrol-group/staff-search",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},personalTodayOrder:function(){return Object(r["b"])("/patrol/v1/patrol-order/list-personal-today-order")},personalOrderPoint:function(t){return Object(r["b"])("/patrol/v1/patrol-order/list-personal-order-point",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPersonalOrderPoint:function(t){return Object(r["b"])("/patrol/v1/patrol-order/get-personal-order-point-detail",t,{headers:{"Content-Type":"application/json"}})},pointPick:function(t){return Object(r["b"])("/patrol/v1/patrol-point-pick/pick",t,{headers:{"Content-Type":"application/json"}})},getPointDetailPick:function(t){return Object(r["b"])("/patrol/v1/patrol-order/get-personal-order-point-detail-with-pick",t,{headers:{"Content-Type":"application/json"}})},getPositionList:function(t){return Object(r["b"])("/patrol/v1/patrol-point/list-with-page",t)},getPositionSearchList:function(t){return Object(r["b"])("/patrol/v1/patrol-point/search",t)},getPositionDetail:function(t){return Object(r["b"])("/patrol/v1/patrol-point/get-point-detail",t)},delPosition:function(t){return Object(r["b"])("/patrol/v1/patrol-point/delete",t)},getPatrolGroupList:function(){return Object(r["b"])("/patrol/v1/patrol-group/list-for-quote")},getPatrolItemCateList:function(t){return Object(r["b"])("/patrol/v1/patrol-item-cate/list",t)},getPatrolItemGetListByCate:function(t){return Object(r["b"])("/patrol/v1/patrol-item/get-list-by-cate",t)},addPosition:function(t){return Object(r["b"])("/patrol/v1/patrol-point/add",t,{headers:{"Content-Type":"application/json"}})},updatePosition:function(t){return Object(r["b"])("/patrol/v1/patrol-point/update",t,{headers:{"Content-Type":"application/json"}})},getWeekTodoRedPorint:function(t){return Object(r["b"])("/patrol/v1/patrol-order/list-last-week-statistics",t,{headers:{"Content-Type":"application/json"}})},getTaskList:function(t){return Object(r["b"])("/patrol/v1/patrol-order/list-org-order-with-page",t,{headers:{"Content-Type":"application/json"}})},getMyTaskList:function(t){return Object(r["b"])("/patrol/v1/patrol-order/list-personal-order-with-page",t,{headers:{"Content-Type":"application/json"}})},getTaskOrderInfo:function(t){return Object(r["b"])("/patrol/v1/patrol-order/get",t)},deleteTaskOrder:function(t){return Object(r["b"])("/patrol/v1/patrol-order/delete",t)},getTargetDetailInfo:function(t){return Object(r["b"])("/patrol/v1/patrol-order/get-order-point",t,{headers:{"Content-Type":"application/json"}})},pointListWidthpage:function(t){return Object(r["b"])("/patrol/v1/patrol-point/list-with-page",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},patrolGroupList:function(t){return Object(r["b"])("/patrol/v1/patrol-group/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},groupUserList:function(t){return Object(r["b"])("/patrol/v1/patrol-group-user-ref/group-user-list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},jobConfAdd:function(t){return Object(r["b"])("/patrol/v1/patrol-job-conf/add",t,{headers:{"Content-Type":"application/json"}})},startTaskAction:function(t){return Object(r["b"])("/patrol/v1/patrol-order/start",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},listPointItem:function(t){return Object(r["b"])("/patrol/v1/patrol-job-conf/list-point-item",t,{headers:{"Content-Type":"application/json"}})},abnormalOrderGroup:function(t){return Object(r["b"])("/patrol/v1/patrol-point-pick/list-group-range",t)},getAbnormalOrderList:function(t){return Object(r["b"])("/patrol/v1/patrol-point-pick/list-abnormal-order-with-page",t,{headers:{"Content-Type":"application/json"}})},updateTask:function(t){return Object(r["b"])("/patrol/v1/patrol-order/edit",t,{headers:{"Content-Type":"application/json"}})},getCycleTaskList:function(t){return Object(r["b"])("/patrol/v1/patrol-job-conf/list-with-page",t,{headers:{"Content-Type":"application/json"}})},getCycleTaskDetail:function(t){return Object(r["b"])("/patrol/v1/patrol-job-conf/get",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},restartCycleTask:function(t){return Object(r["b"])("/patrol/v1/patrol-job-conf/restart",t,{headers:{"Content-Type":"application/json"}})},closeCycleTask:function(t){return Object(r["b"])("/patrol/v1/patrol-job-conf/close",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},stopCycleTask:function(t){return Object(r["b"])("/patrol/v1/patrol-job-conf/stop",t,{headers:{"Content-Type":"application/json"}})},listPointOption:function(t){return Object(r["b"])("/patrol/v1/patrol-job-conf/list-point-option",t,{headers:{"Content-Type":"application/json"}})}},Object(a["a"])(n,"patrolGroupList",(function(t){return Object(r["b"])("/patrol/v1/patrol-group/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(a["a"])(n,"groupUserList",(function(t){return Object(r["b"])("/patrol/v1/patrol-group-user-ref/group-user-list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(a["a"])(n,"jobConfAdd",(function(t){return Object(r["b"])("/patrol/v1/patrol-job-conf/add",t,{headers:{"Content-Type":"application/json"}})})),Object(a["a"])(n,"listPointItem",(function(t){return Object(r["b"])("/patrol/v1/patrol-job-conf/list-point-item",t,{headers:{"Content-Type":"application/json"}})})),Object(a["a"])(n,"abnormalOrderDetail",(function(t){return Object(r["b"])("/patrol/v1/patrol-point-pick/get",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(a["a"])(n,"abnormalOrderMark",(function(t){return Object(r["b"])("/patrol/v1/patrol-point-pick/add-point-log",t,{headers:{"Content-Type":"application/json"}})})),Object(a["a"])(n,"abnormalOrderClose",(function(t){return Object(r["b"])("/patrol/v1/patrol-point-pick/close",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(a["a"])(n,"checkPositionNameExist",(function(t){return Object(r["b"])("/patrol/v1/patrol-point/check-name-exists",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(a["a"])(n,"getMyPatrolList",(function(t){return Object(r["b"])("/patrol/v1/my-patrol-point-pick/list-abnormal-order-with-page",t,{headers:{"Content-Type":"application/json"}})})),Object(a["a"])(n,"getMyPatrolDetails",(function(t){return Object(r["b"])("/patrol/v1/my-patrol-point-pick/get",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(a["a"])(n,"operationMyPatrolRotate",(function(t){return Object(r["b"])("/patrol/v1/my-patrol-point-pick/rotate",t,{headers:{"Content-Type":"application/json"}})})),Object(a["a"])(n,"submitMyPatrolAbnormal",(function(t){return Object(r["b"])("/patrol/v1/my-patrol-point-pick/abnormal-order-submit",t,{headers:{"Content-Type":"application/json"}})})),Object(a["a"])(n,"getMyGroupUserList",(function(t){return Object(r["b"])("/patrol/v1/patrol-group-user-ref/my-group-user-option",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(a["a"])(n,"restartPatrolPick",(function(t){return Object(r["b"])("/patrol/v1/patrol-point-pick/restart",t,{headers:{"Content-Type":"application/json"}})})),Object(a["a"])(n,"abnormalOrderAssign",(function(t){return Object(r["b"])("/patrol/v1/patrol-point-pick/assign",t,{headers:{"Content-Type":"application/json"}})})),Object(a["a"])(n,"abnormalOrderRemarks",(function(t){return Object(r["b"])("/patrol/v1/patrol-point-pick/add-point-log",t,{headers:{"Content-Type":"application/json"}})})),Object(a["a"])(n,"abnormalOrderRestart",(function(t){return Object(r["b"])("/patrol/v1/patrol-point-pick/restart",t,{headers:{"Content-Type":"application/json"}})})),Object(a["a"])(n,"editPeriodTask",(function(t){return Object(r["b"])("/patrol/v1/patrol-job-conf/modify",t,{headers:{"Content-Type":"application/json"}})})),n)},"297a":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"weekCalendar"},[o("div",{staticClass:"date-step"},[o("span",{staticClass:"icon-block left-icon",on:{click:t.lastWeek}},[o("van-icon",{attrs:{name:"arrow-left"}})],1),o("span",{staticClass:"date"},[t._v(t._s(t.vDateString+" "+t.getWeekNum))]),o("span",{staticClass:"icon-block right-icon",on:{click:t.nextWeek}},[o("van-icon",{attrs:{name:"arrow"}})],1)]),o("div",{staticClass:"week"},t._l(t.week,(function(e,n){return o("span",{key:n,staticClass:"week-font"},[t._v(t._s(e))])})),0),o("div",{staticClass:"week"},t._l(t.dates,(function(e,n){return o("span",{key:n,class:{mark:!0,weekActive:e==t.date,hasData:t.getScope(n)},on:{click:function(o){return t.selectDate(e)}}},[t._v(t._s(e))])})),0)])},a=[],r=(o("0319"),o("ad2b")),i={data:function(){return{week:[this.$t("polling.monday"),this.$t("polling.tuesday"),this.$t("polling.wednesday"),this.$t("polling.thursday"),this.$t("polling.friday"),this.$t("polling.saturday"),this.$t("polling.sunday")],dates:this.setDate(new Date),date:(new Date).getDate(),month:(new Date).getMonth()+1,getWeekNum:"",vDate:(new Date).valueOf()}},components:{},computed:{vDateString:function(){return Object(r["a"])(this.vDate,"{y}-{m}-{d}")}},mounted:function(){this.dates=this.setDate(new Date),this.date=(new Date).getDate(),this.getWeek(new Date)},props:{redSpotList:Array},methods:{getWeek:function(t){var e=parseInt(t.getDate()/7)+1;switch(console.log(e),e){case 1:this.getWeekNum=this.$t("polling.oneWeek");break;case 2:this.getWeekNum=this.$t("polling.twoWeek");break;case 3:this.getWeekNum=this.$t("polling.threeWeek");break;case 4:this.getWeekNum=this.$t("polling.fourWeek");break;case 5:this.getWeekNum=this.$t("polling.fiveWeek");break}},getScope:function(t){return!!this.redSpotList[t]&&this.redSpotList[t].isHasOrder},dateStep:function(t,e){return parseInt(t)+6048e5*e},lastWeek:function(){this.vDate=this.dateStep(this.vDate,-1),this.dates=this.setDate(new Date(this.vDate)),this.date=new Date(this.vDate).getDate(),this.setDate(new Date(this.vDate)),this.getWeek(new Date(this.vDate)),this.$emit("refreshRedSpot",this.vDate)},nextWeek:function(){this.vDate=this.dateStep(this.vDate,1),this.dates=this.setDate(new Date(this.vDate)),this.date=new Date(this.vDate).getDate(),this.setDate(new Date(this.vDate)),this.getWeek(new Date(this.vDate)),this.$emit("refreshRedSpot",this.vDate)},selectDate:function(t){var e;e=t-this.date>14?Object(r["a"])(this.vDate,"{y}")+"/"+new Date(this.vDate).getMonth()+"/"+t:t-this.date<-14?Object(r["a"])(this.vDate,"{y}")+"/"+(new Date(this.vDate).getMonth()+2)+"/"+t:Object(r["a"])(this.vDate,"{y}/{m}/")+t,this.date=t,this.vDate=new Date(e).getTime(),this.$emit("onSelectItem",this.vDate)},setDate:function(t){for(var e=[],o=a(t),n=0;n<7;n++)e.push(i(r(o,n)));return e;function a(t){var e=t.getDay(),o=e?e-1:6;return t.setDate(t.getDate()-o),t}function r(t,e){var o=new Date(t);return o.setDate(o.getDate()+e),o}function i(t){var e=t.getDate();return e=e<10?"0"+e:e,e}}}},s=i,l=(o("5e61"),o("c701")),p=Object(l["a"])(s,n,a,!1,null,"f0a6cde4",null);e["a"]=p.exports},"34c5":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"group"},[n("nav-bar",{scopedSlots:t._u([{key:"left",fn:function(){return[n("van-icon",{attrs:{name:"arrow-left"},on:{click:t.onClickLeft}})]},proxy:!0},{key:"title",fn:function(){return[n("span",{class:t.toMine?"nav-title-big":"nav-title"},[t._v(" "+t._s(t.toMine?t.$t("polling.myOrder"):t.$t("polling.taskList"))+" ")])]},proxy:!0},{key:"right",fn:function(){return[t.toMine?t._e():n("span",{on:{click:t.onClickRight}},[t._v(t._s(t.$t("polling.publish")))])]},proxy:!0}])}),n("div",{staticClass:"content"},[n("weekCalendar",{staticClass:"weekCalendar",attrs:{redSpotList:t.orderDateList},on:{onSelectItem:t.onSelectDate,refreshRedSpot:t.refreshRedSpot}}),n("van-tabs",{staticClass:"tabs",attrs:{color:"#79DABD","title-active-color":"#79DABD"},on:{click:t.selectTab},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabList,(function(t,e){return n("van-tab",{key:e,staticClass:"list_tab",attrs:{title:t}})})),1),n("van-pull-refresh",{staticClass:"refresh",staticStyle:{"min-height":"calc(100vh - 0px)"},on:{refresh:t.onRefresh},model:{value:t.isRefresh,callback:function(e){t.isRefresh=e},expression:"isRefresh"}},[n("van-list",{staticClass:"van-list",attrs:{error:t.error,finished:t.finished,"finished-text":t.dataList.length>0?t.$t("polling.noMore"):""},on:{"update:error":function(e){t.error=e},load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("van-empty",{directives:[{name:"show",rawName:"v-show",value:0==t.dataList.length,expression:"dataList.length == 0"}],attrs:{description:"暂无数据"}},[n("template",{slot:"image"},[n("div",[n("img",{attrs:{src:o("54e3")}})])])],2),n("ul",{staticStyle:{height:"100%"}},t._l(t.dataList,(function(e,o){return n("li",{key:o,staticClass:"list-li",on:{click:function(o){return t.selectItem(e)}}},[n("div",{staticClass:"list-info"},[n("div",{class:t.toMine?"list-info-detial-big":"list-info-detial"},[n("span",{staticClass:"topLine"},[t._v(" "+t._s(t._f("ellipsis")(e.jobName))+" "),n("div",{staticClass:"list-info-btn"},[n("span",{class:2==e.orderStatus?"list-info-btn-doing-text":"list-info-btn-text"},[t._v(t._s(e.orderStatusName))])]),n("i",[t._v("第"+t._s(e.orderSort)+"次")])]),n("van-row",[n("van-col",{staticStyle:{"padding-top":"7px"}},[n("span",{staticStyle:{color:"#999"}},[t._v(t._s(t.$t("polling.type"))+":")]),n("span",{staticStyle:{color:"#666"}},[t._v(t._s(e.jobTypeName))])])],1),n("van-row",[n("van-col",{staticStyle:{"padding-top":"7px"}},[n("span",{staticStyle:{color:"#999"}},[t._v(t._s(t.$t("polling.pollingTime"))+":")]),n("span",{staticStyle:{color:"#666"}},[t._v(t._s(e.startTime)+" ~ "+t._s(e.endTime))])])],1),n("van-row",[n("van-col",{staticStyle:{"padding-top":"7px"}},[n("span",{staticStyle:{color:"#999"}},[t._v(t._s(t.$t("polling.targetPostion"))+":")]),n("span",{staticStyle:{color:"#666"}},[t._v(t._s(e.targetInfo))])])],1)],1)]),n("div",{staticClass:"bottomView"},[e.users.length>0?n("span",{class:t.toMine?"userinfo-big":"userinfo"},[n("img",{attrs:{src:e.users[0].userAvatar}}),n("span",[t._v(t._s(e.users[0].userName))])]):t._e(),n("van-button",{directives:[{name:"show",rawName:"v-show",value:e.isMyOrder&&1==e.orderStatus,expression:"val.isMyOrder && val.orderStatus == 1"}],class:t.toMine?"start_task-big":"start_task",attrs:{round:"",size:"small",type:"button"},on:{click:function(o){return o.stopPropagation(),t.startTaskAction(e)}}},[t._v(t._s(t.$t("polling.startTask")))]),n("van-button",{directives:[{name:"show",rawName:"v-show",value:e.isMyOrder&&2==e.orderStatus,expression:"val.isMyOrder && val.orderStatus == 2"}],class:t.toMine?"start_task-big":"start_task",attrs:{round:"",size:"small",type:"button"},on:{click:function(o){return o.stopPropagation(),t.startTaskAction(e)}}},[t._v(t._s(t.$t("polling.continueTask")))]),n("van-button",{directives:[{name:"show",rawName:"v-show",value:3==e.orderStatus,expression:"val.orderStatus == 3"}],class:{remedyBigBlack:t.getRemedyClassBigBlack(e),remedyBigNor:t.getRemedyClassBigNor(e),remedyNor:t.getRemedyClassNor(e),remedyBlack:t.getRemedyClassBlack(e)},attrs:{round:"",size:"small",type:"button"},on:{click:function(o){return o.stopPropagation(),t.startTaskAction(e)}}},[t._v(t._s(t.$t("polling.remedy")))])],1)])})),0)],1)],1)],1)],1)},a=[],r=(o("445a"),o("cca2"),o("b131"),o("0bd5"),o("79a8"),o("ad2b")),i=o("da1d"),s=o("297a"),l=o("0319"),p=o("2939"),c={name:"polling-management-todo",components:{weekCalendar:s["a"],navBar:i["a"]},mounted:function(){this.updateRedSpot()},filters:{ellipsis:function(t){return t?t.length>15?t.slice(0,15)+"...":t:""}},data:function(){return{list:[],toMine:p["a"].getAppData().isMyOrder||this.$route.query.toMine,selectIndex:p["a"].getAppData().orderStatus||-1,selectedDate:"",loading:!1,finished:!1,isRefresh:!1,refreshing:!1,error:!1,active:0,pageNo:0,tabList:[this.$t("polling.all"),this.$t("polling.unStart"),this.$t("polling.doing"),this.$t("polling.finished"),this.$t("polling.completed")],targetDatas:[],orderDateList:[],dataList:[]}},activated:function(){p["a"].getAppData().isMyOrder||this.$route.query.toMine?this.toMine=!0:this.toMine=!1,this.$route.query.refresh||this.$route.query.tabIndex?this.selectTab(this.$route.query.tabIndex):(this.active=0,this.selectTab(0))},methods:{getRemedyClassBigBlack:function(t){return!t.isMyOrder&&this.toMine},getRemedyClassBigNor:function(t){return t.isMyOrder&&this.toMine},getRemedyClassBlack:function(t){return!t.isMyOrder&&!this.toMine},getRemedyClassNor:function(t){return t.isMyOrder&&!this.toMine},updateRedSpot:function(){var t=this;0==this.selectedDate.split(" ").join("").length&&(this.selectedDate=Object(r["a"])(new Date,"{y}-{m}-{d}")),l["a"].getWeekTodoRedPorint({isAdmin:!this.toMine,orderDate:this.selectedDate}).then((function(e){t.orderDateList=e.data}))},onClickLeft:function(){p["a"].getAppData().shouldBeClosed&&p["a"].closeWebview(),this.$router.go(-1)},onClickRight:function(){this.$router.push("/polling/management/swpw")},onSelectDate:function(t){var e=Object(r["a"])(t,"{y}-{m}-{d}");this.selectedDate=e,this.onRefresh()},refreshRedSpot:function(t){var e=Object(r["a"])(t,"{y}-{m}-{d}");this.selectedDate=e,this.updateRedSpot(),this.active=0,this.selectTab(0)},selectItem:function(t){this.$router.push({name:"polling-management-todo-taskdetail",query:{orderBizId:t.orderBizId,isMyOrder:t.isMyOrder,tabIndex:this.active,toMine:this.$route.query.toMine||!1}})},selectTab:function(t,e){console.log(t);var o=-1;0!==t&&(o=t),this.selectIndex=o,0==this.selectedDate.split(" ").join("").length&&(this.selectedDate=Object(r["a"])(new Date,"{y}-{m}-{d}")),this.onRefresh()},loadData:function(){var t=this;this.toMine?l["a"].getMyTaskList({date:this.selectedDate,orderStatus:this.selectIndex,pageSize:"20",pageNo:this.pageNo}).then((function(e){if(t.isRefresh?t.dataList=e.data:t.dataList=t.dataList.concat(e.data),e.data&&0!=e.data.length)for(var o=0;o<t.dataList.length;o++){for(var n="",a=t.dataList[o].targets,r=0;r<a.length;r++)n+=a[r].targetName+",";n.length>0&&(n=n.substr(0,n.length-1)),t.dataList[o].targetInfo=n}20==e.data.length?t.finished=!1:t.finished=!0,t.loading=!1,t.isRefresh=!1,t.refreshing=!1})).catch((function(e){t.loading=!1,t.isRefresh=!1,t.finished=!0,t.refreshing=!1,t.error=!0})):l["a"].getTaskList({date:this.selectedDate,orderStatus:this.selectIndex,pageSize:"20",pageNo:this.pageNo}).then((function(e){if(t.isRefresh?t.dataList=e.data:t.dataList=t.dataList.concat(e.data),e.data&&0!=e.data.length)for(var o=0;o<t.dataList.length;o++){for(var n="",a=t.dataList[o].targets,r=0;r<a.length;r++)n+=a[r].targetName+",";n.length>0&&(n=n.substr(0,n.length-1)),t.dataList[o].targetInfo=n}20==e.data.length?t.finished=!1:t.finished=!0,t.loading=!1,t.isRefresh=!1,t.refreshing=!1})).catch((function(e){t.loading=!1,t.isRefresh=!1,t.refreshing=!1,t.finished=!0,t.error=!0}))},startTaskAction:function(t){var e=this;2==t.orderStatus?this.$router.push({path:"/polling/patral",query:{orderBizId:t.orderBizId}}):3==t.orderStatus?this.$router.push({name:"polling-management-todo-taskdetail",query:{orderBizId:t.orderBizId,isMyOrder:t.isMyOrder}}):l["a"].startTaskAction({orderBizId:t.orderBizId}).then((function(o){e.$router.push({path:"/polling/patral",query:{orderBizId:t.orderBizId}})}))},onLoad:function(){this.refreshing||(this.pageNo=this.pageNo+1,this.refreshing=!0,this.loading=!0,this.isRefresh=!1,this.loadData())},onRefresh:function(){this.dataList=[],this.refreshing||(this.refreshing=!0,this.finished=!1,this.isRefresh=!1,this.pageNo=1,this.loadData())}}},d=c,u=(o("73df"),o("c701")),h=Object(u["a"])(d,n,a,!1,null,"55c0f2f3",null);e["default"]=h.exports},3947:function(t,e,o){},"4f91":function(t,e,o){},"54e3":function(t,e,o){t.exports=o.p+"img/icon_empty_page.a17e32dd.png"},"5e61":function(t,e,o){"use strict";o("4f91")},"73df":function(t,e,o){"use strict";o("3947")},cca2:function(t,e,o){"use strict";var n=o("a09b"),a=o("7866"),r=o("ec87"),i=o("f8b2"),s=[].join,l=a!=Object,p=i("join",",");n({target:"Array",proto:!0,forced:l||!p},{join:function(t){return s.call(r(this),void 0===t?",":t)}})}}]);