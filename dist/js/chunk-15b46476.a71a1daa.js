(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15b46476"],{"0319":function(t,e,o){"use strict";var n,r=o("28f8"),a=o("d722");o("46e5");e["a"]=(n={pollingOptionAddGroup:function(t){return Object(a["b"])("/patrol/v1/patrol-item-cate/add",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingOptionAddOption:function(t){return Object(a["b"])("/patrol/v1/patrol-item/add",t,{headers:{"Content-Type":"application/json"}})},pollingOptionUpdateOption:function(t){return Object(a["b"])("/patrol/v1/patrol-item/update",t,{headers:{"Content-Type":"application/json"}})},pollingOptionDeleteOption:function(t){return Object(a["b"])("/patrol/v1/patrol-item/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPollingOptionGroupList:function(t){return Object(a["b"])("/patrol/v1/patrol-item-cate/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPollingOptionItemsList:function(t){return Object(a["b"])("/patrol/v1/patrol-item/get-list-by-cate",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPollingOptionItemDetail:function(t){return Object(a["b"])("/patrol/v1/patrol-item/detail",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingOptionDeleteGroup:function(t){return Object(a["b"])("/patrol/v1/patrol-item-cate/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingOptionModifyGroup:function(t){return Object(a["b"])("/patrol/v1/patrol-item-cate/update",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingOptionSearchGroup:function(t){return Object(a["b"])("/patrol/v1/patrol-item/search",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPolllingGroupList:function(t){return Object(a["b"])("/patrol/v1/patrol-group/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPollingGroupPersonList:function(t){return Object(a["b"])("/patrol/v1/patrol-group-user-ref/group-user-list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupAddPersionToGroup:function(t){return Object(a["b"])("/patrol/v1/patrol-group-user-ref/add",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},groupUserOption:function(t){return Object(a["b"])("/patrol/v1/patrol-group-user-ref/group-user-option",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupSearchPerson:function(t){return Object(a["b"])("/patrol/v1/patrol-group-user-ref/search",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupAddGroup:function(t){return Object(a["b"])("/patrol/v1/patrol-group/add",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupDeleteGroup:function(t){return Object(a["b"])("/patrol/v1/patrol-group/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupModifyGroup:function(t){return Object(a["b"])("/patrol/v1/patrol-group/update",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupDeletePersion:function(t){return Object(a["b"])("/patrol/v1/patrol-group-user-ref/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},queryDeletePersion:function(t){return Object(a["b"])("/patrol/v1/patrol-group-user-ref/whether-has-ref-order",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupGetPersionList:function(t){return Object(a["b"])("/patrol/v1/patrol-group/staff-list",t,{headers:{"Content-Type":"application/json"}})},pollingGroupSearchPersion:function(t){return Object(a["b"])("/patrol/v1/patrol-group/staff-search",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},personalTodayOrder:function(){return Object(a["b"])("/patrol/v1/patrol-order/list-personal-today-order")},personalOrderPoint:function(t){return Object(a["b"])("/patrol/v1/patrol-order/list-personal-order-point",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPersonalOrderPoint:function(t){return Object(a["b"])("/patrol/v1/patrol-order/get-personal-order-point-detail",t,{headers:{"Content-Type":"application/json"}})},pointPick:function(t){return Object(a["b"])("/patrol/v1/patrol-point-pick/pick",t,{headers:{"Content-Type":"application/json"}})},getPointDetailPick:function(t){return Object(a["b"])("/patrol/v1/patrol-order/get-personal-order-point-detail-with-pick",t,{headers:{"Content-Type":"application/json"}})},getPositionList:function(t){return Object(a["b"])("/patrol/v1/patrol-point/list-with-page",t)},getPositionSearchList:function(t){return Object(a["b"])("/patrol/v1/patrol-point/search",t)},getPositionDetail:function(t){return Object(a["b"])("/patrol/v1/patrol-point/get-point-detail",t)},delPosition:function(t){return Object(a["b"])("/patrol/v1/patrol-point/delete",t)},getPatrolGroupList:function(){return Object(a["b"])("/patrol/v1/patrol-group/list-for-quote")},getPatrolItemCateList:function(t){return Object(a["b"])("/patrol/v1/patrol-item-cate/list",t)},getPatrolItemGetListByCate:function(t){return Object(a["b"])("/patrol/v1/patrol-item/get-list-by-cate",t)},addPosition:function(t){return Object(a["b"])("/patrol/v1/patrol-point/add",t,{headers:{"Content-Type":"application/json"}})},updatePosition:function(t){return Object(a["b"])("/patrol/v1/patrol-point/update",t,{headers:{"Content-Type":"application/json"}})},getWeekTodoRedPorint:function(t){return Object(a["b"])("/patrol/v1/patrol-order/list-last-week-statistics",t,{headers:{"Content-Type":"application/json"}})},getTaskList:function(t){return Object(a["b"])("/patrol/v1/patrol-order/list-org-order-with-page",t,{headers:{"Content-Type":"application/json"}})},getMyTaskList:function(t){return Object(a["b"])("/patrol/v1/patrol-order/list-personal-order-with-page",t,{headers:{"Content-Type":"application/json"}})},getTaskOrderInfo:function(t){return Object(a["b"])("/patrol/v1/patrol-order/get",t)},deleteTaskOrder:function(t){return Object(a["b"])("/patrol/v1/patrol-order/delete",t)},getTargetDetailInfo:function(t){return Object(a["b"])("/patrol/v1/patrol-order/get-order-point",t,{headers:{"Content-Type":"application/json"}})},pointListWidthpage:function(t){return Object(a["b"])("/patrol/v1/patrol-point/list-with-page",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},patrolGroupList:function(t){return Object(a["b"])("/patrol/v1/patrol-group/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},groupUserList:function(t){return Object(a["b"])("/patrol/v1/patrol-group-user-ref/group-user-list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},jobConfAdd:function(t){return Object(a["b"])("/patrol/v1/patrol-job-conf/add",t,{headers:{"Content-Type":"application/json"}})},startTaskAction:function(t){return Object(a["b"])("/patrol/v1/patrol-order/start",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},listPointItem:function(t){return Object(a["b"])("/patrol/v1/patrol-job-conf/list-point-item",t,{headers:{"Content-Type":"application/json"}})},abnormalOrderGroup:function(t){return Object(a["b"])("/patrol/v1/patrol-point-pick/list-group-range",t)},getAbnormalOrderList:function(t){return Object(a["b"])("/patrol/v1/patrol-point-pick/list-abnormal-order-with-page",t,{headers:{"Content-Type":"application/json"}})},updateTask:function(t){return Object(a["b"])("/patrol/v1/patrol-order/edit",t,{headers:{"Content-Type":"application/json"}})},getCycleTaskList:function(t){return Object(a["b"])("/patrol/v1/patrol-job-conf/list-with-page",t,{headers:{"Content-Type":"application/json"}})},getCycleTaskDetail:function(t){return Object(a["b"])("/patrol/v1/patrol-job-conf/get",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},restartCycleTask:function(t){return Object(a["b"])("/patrol/v1/patrol-job-conf/restart",t,{headers:{"Content-Type":"application/json"}})},closeCycleTask:function(t){return Object(a["b"])("/patrol/v1/patrol-job-conf/close",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},stopCycleTask:function(t){return Object(a["b"])("/patrol/v1/patrol-job-conf/stop",t,{headers:{"Content-Type":"application/json"}})},listPointOption:function(t){return Object(a["b"])("/patrol/v1/patrol-job-conf/list-point-option",t,{headers:{"Content-Type":"application/json"}})}},Object(r["a"])(n,"patrolGroupList",(function(t){return Object(a["b"])("/patrol/v1/patrol-group/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(r["a"])(n,"groupUserList",(function(t){return Object(a["b"])("/patrol/v1/patrol-group-user-ref/group-user-list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(r["a"])(n,"jobConfAdd",(function(t){return Object(a["b"])("/patrol/v1/patrol-job-conf/add",t,{headers:{"Content-Type":"application/json"}})})),Object(r["a"])(n,"listPointItem",(function(t){return Object(a["b"])("/patrol/v1/patrol-job-conf/list-point-item",t,{headers:{"Content-Type":"application/json"}})})),Object(r["a"])(n,"abnormalOrderDetail",(function(t){return Object(a["b"])("/patrol/v1/patrol-point-pick/get",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(r["a"])(n,"abnormalOrderMark",(function(t){return Object(a["b"])("/patrol/v1/patrol-point-pick/add-point-log",t,{headers:{"Content-Type":"application/json"}})})),Object(r["a"])(n,"abnormalOrderClose",(function(t){return Object(a["b"])("/patrol/v1/patrol-point-pick/close",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(r["a"])(n,"checkPositionNameExist",(function(t){return Object(a["b"])("/patrol/v1/patrol-point/check-name-exists",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(r["a"])(n,"getMyPatrolList",(function(t){return Object(a["b"])("/patrol/v1/my-patrol-point-pick/list-abnormal-order-with-page",t,{headers:{"Content-Type":"application/json"}})})),Object(r["a"])(n,"getMyPatrolDetails",(function(t){return Object(a["b"])("/patrol/v1/my-patrol-point-pick/get",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(r["a"])(n,"operationMyPatrolRotate",(function(t){return Object(a["b"])("/patrol/v1/my-patrol-point-pick/rotate",t,{headers:{"Content-Type":"application/json"}})})),Object(r["a"])(n,"submitMyPatrolAbnormal",(function(t){return Object(a["b"])("/patrol/v1/my-patrol-point-pick/abnormal-order-submit",t,{headers:{"Content-Type":"application/json"}})})),Object(r["a"])(n,"getMyGroupUserList",(function(t){return Object(a["b"])("/patrol/v1/patrol-group-user-ref/my-group-user-option",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(r["a"])(n,"restartPatrolPick",(function(t){return Object(a["b"])("/patrol/v1/patrol-point-pick/restart",t,{headers:{"Content-Type":"application/json"}})})),Object(r["a"])(n,"abnormalOrderAssign",(function(t){return Object(a["b"])("/patrol/v1/patrol-point-pick/assign",t,{headers:{"Content-Type":"application/json"}})})),Object(r["a"])(n,"abnormalOrderRemarks",(function(t){return Object(a["b"])("/patrol/v1/patrol-point-pick/add-point-log",t,{headers:{"Content-Type":"application/json"}})})),Object(r["a"])(n,"abnormalOrderRestart",(function(t){return Object(a["b"])("/patrol/v1/patrol-point-pick/restart",t,{headers:{"Content-Type":"application/json"}})})),Object(r["a"])(n,"editPeriodTask",(function(t){return Object(a["b"])("/patrol/v1/patrol-job-conf/modify",t,{headers:{"Content-Type":"application/json"}})})),n)},3234:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"group"},[n("div",{class:{searchActive:t.active}},[t.active?t._e():n("nav-bar",{attrs:{showArrow:!1,title:t.titleStr},scopedSlots:t._u([{key:"left",fn:function(){return[n("strong",{on:{click:t.onLiftClick}},[t._v(t._s(t.$t("polling.cancel")))])]},proxy:!0},{key:"right",fn:function(){return[n("span",{class:[{van_right:t.nextEnable},{van_right1:!t.nextEnable}],on:{click:t.onRightClick}},[t._v(" "+t._s(t.rightTitle)+" ")])]},proxy:!0}],null,!1,2336724190)}),n("div",{staticClass:"searchBar"},[n("van-search",{attrs:{shape:"round",background:"#ffffff","input-align":t.inputAlign,placeholder:t.$t("polling.search"),"action-text":t.$t("polling.cancel"),"show-action":t.showAction},on:{search:t.onSearch,cancel:t.onCancel,input:t.onInput,focus:t.onFocus},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}})],1),t.active?n("div",{staticClass:"searchResult"},[n("van-checkbox-group",{model:{value:t.selectPersons,callback:function(e){t.selectPersons=e},expression:"selectPersons"}},[n("van-cell-group",t._l(t.searchResultList,(function(e,r){return n("van-cell",{key:r,class:{disableClick:e.isInGroup,enableClick:!e.isInGroup},attrs:{title:e.realName,clickable:""},on:{click:function(e){return t.onSearchCheckbox(r)}}},[n("template",{slot:"icon"},[n("div",[n("van-row",{attrs:{gutter:"10"}},[n("van-col",[n("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:!e.isInGroup,expression:"!item.isInGroup"}],ref:"checkboxes",refInFor:!0,staticStyle:{position:"relative",top:"5px"},attrs:{"checked-color":"#4CD7EC",disabled:e.isInGroup,name:e.userId}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isInGroup,expression:"item.isInGroup"}],staticStyle:{width:"20px"}})],1),n("van-col",[n("van-image",{staticStyle:{position:"relative",top:"3px",width:"25px",height:"25px"},attrs:{round:"",src:e.avatar,fit:"fill"},scopedSlots:t._u([{key:"error",fn:function(){return[n("img",{staticStyle:{position:"relative",width:"100%",height:"100%"},attrs:{src:o("690a")}})]},proxy:!0}],null,!0)})],1)],1)],1)])],2)})),1)],1)],1):n("div",{staticClass:"content"},[n("div",{staticStyle:{height:"10px"}}),n("van-empty",{directives:[{name:"show",rawName:"v-show",value:t.showEmptyView,expression:"showEmptyView"}],staticClass:"custom-image",attrs:{description:t.$t("polling.empty")}},[n("template",{slot:"image"},[n("div",[n("img",{attrs:{src:o("52c4")}})])])],2),n("van-list",{directives:[{name:"show",rawName:"v-show",value:!t.showEmptyView,expression:"!showEmptyView"}],attrs:{finished:t.finished,"finished-text":t.$t("polling.noMore")},on:{load:t.onLoadData},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("van-checkbox-group",{model:{value:t.selectPersons,callback:function(e){t.selectPersons=e},expression:"selectPersons"}},[n("van-cell-group",t._l(t.list,(function(e,r){return n("van-cell",{key:e.userId,class:{disableClick:e.isChecked,enableClick:!e.isChecked},attrs:{title:e.realName,clickable:""},on:{click:function(e){return t.onCheckbox(r)}}},[n("template",{slot:"icon"},[n("div",[n("van-row",{attrs:{gutter:"10"}},[n("van-col",[n("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:!e.isChecked,expression:"!item.isChecked"}],ref:"checkboxes",refInFor:!0,staticStyle:{position:"relative",top:"5px"},attrs:{name:e.userId,"checked-color":"#4CD7EC"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isChecked,expression:"item.isChecked"}],staticStyle:{width:"20px"}})],1),n("van-col",[n("van-image",{staticStyle:{position:"relative",top:"3px",width:"25px",height:"25px"},attrs:{round:"",src:e.avatar,fit:"fill"},scopedSlots:t._u([{key:"error",fn:function(){return[n("img",{staticStyle:{position:"relative",width:"100%",height:"100%"},attrs:{src:o("690a")}})]},proxy:!0}],null,!0)})],1)],1)],1)])],2)})),1)],1)],1)],1)],1)])},r=[],a=(o("445a"),o("cca2"),o("0bd5"),o("9b42"),o("7336"),o("b08c")),i=o("da1d"),p=o("0319"),l={data:function(){return{rightTitle:this.$t("polling.complete"),groupId:this.$route.query.groupId,groupName:this.$route.query.groupName,active:!1,showAction:!1,inputAlign:"center",searchKey:"",loading:!1,finished:!1,pageNumber:1,list:[],searchResultList:[],showEmptyView:!1,selectPersons:[],nextEnable:!1,titleStr:""}},components:{navBar:i["a"]},watch:{selectPersons:function(t,e){this.active&&(this.showAction=!1,this.active=!1,this.inputAlign="center"),t.length>0?(this.rightTitle=this.$t("polling.complete")+"("+t.length+")",this.nextEnable=!0):(this.nextEnable=!1,this.rightTitle=this.$t("polling.complete"))}},mounted:function(){var t=this.$t("polling.addPersionToGroup");this.titleStr=t=t.replace("%@",this.groupName)},methods:{onLiftClick:function(){this.$router.go(-1)},onRightClick:function(){var t=this;if(this.nextEnable){var e=this.selectPersons.join(",");p["a"].pollingGroupAddPersionToGroup({groupId:this.groupId,userIds:e}).then((function(e){Object(a["a"])(t.$t("polling.addSuccess")),t.$router.go(-1)})).catch((function(t){Object(a["a"])(t.message)}))}},onSearch:function(){this.searchResultList=[],this.onLoadSearchData()},onCancel:function(){this.showAction=!1,this.active=!1,this.inputAlign="center"},onInput:function(){},onFocus:function(){this.searchResultList=[],this.searchKey="",this.active=!0,this.inputAlign="left",this.showAction=!0},onSearchCheckbox:function(t){this.onSelectItem(t)},onCheckbox:function(t){this.onSelectItem(t)},onSelectItem:function(t){this.$refs.checkboxes[t].toggle()},onLoadSearchData:function(){var t=this;p["a"].pollingGroupSearchPersion({staffName:this.searchKey,groupId:this.groupId}).then((function(e){t.searchResultList=e.data})).catch((function(t){}))},onLoadData:function(){var t=this;p["a"].pollingGroupGetPersionList({pageNum:this.pageNumber,pageSize:20,groupId:this.groupId}).then((function(e){t.list=t.list.concat(e.data.list),t.pageNumber++,e.data.isLastPage?(t.loading=!0,t.finished=!0):(t.loading=!1,t.finished=!1),t.list.length>0?t.showEmptyView=!1:t.showEmptyView=!0})).catch((function(t){}))}}},c=l,s=(o("976e"),o("c701")),u=Object(s["a"])(c,n,r,!1,null,"b15f56a6",null);e["default"]=u.exports},"52c4":function(t,e,o){t.exports=o.p+"img/empty_page_icon.e43b2826.png"},"690a":function(t,e,o){t.exports=o.p+"img/avatar.5c2a950a.png"},"976e":function(t,e,o){"use strict";o("dd1f")},cca2:function(t,e,o){"use strict";var n=o("a09b"),r=o("7866"),a=o("ec87"),i=o("f8b2"),p=[].join,l=r!=Object,c=i("join",",");n({target:"Array",proto:!0,forced:l||!c},{join:function(t){return p.call(a(this),void 0===t?",":t)}})},dd1f:function(t,e,o){}}]);