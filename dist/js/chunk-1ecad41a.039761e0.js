(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ecad41a"],{"0319":function(t,e,o){"use strict";var r,n=o("28f8"),i=o("d722");o("46e5");e["a"]=(r={pollingOptionAddGroup:function(t){return Object(i["b"])("/patrol/v1/patrol-item-cate/add",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingOptionAddOption:function(t){return Object(i["b"])("/patrol/v1/patrol-item/add",t,{headers:{"Content-Type":"application/json"}})},pollingOptionUpdateOption:function(t){return Object(i["b"])("/patrol/v1/patrol-item/update",t,{headers:{"Content-Type":"application/json"}})},pollingOptionDeleteOption:function(t){return Object(i["b"])("/patrol/v1/patrol-item/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPollingOptionGroupList:function(t){return Object(i["b"])("/patrol/v1/patrol-item-cate/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPollingOptionItemsList:function(t){return Object(i["b"])("/patrol/v1/patrol-item/get-list-by-cate",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPollingOptionItemDetail:function(t){return Object(i["b"])("/patrol/v1/patrol-item/detail",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingOptionDeleteGroup:function(t){return Object(i["b"])("/patrol/v1/patrol-item-cate/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingOptionModifyGroup:function(t){return Object(i["b"])("/patrol/v1/patrol-item-cate/update",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingOptionSearchGroup:function(t){return Object(i["b"])("/patrol/v1/patrol-item/search",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPolllingGroupList:function(t){return Object(i["b"])("/patrol/v1/patrol-group/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPollingGroupPersonList:function(t){return Object(i["b"])("/patrol/v1/patrol-group-user-ref/group-user-list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupAddPersionToGroup:function(t){return Object(i["b"])("/patrol/v1/patrol-group-user-ref/add",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},groupUserOption:function(t){return Object(i["b"])("/patrol/v1/patrol-group-user-ref/group-user-option",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupSearchPerson:function(t){return Object(i["b"])("/patrol/v1/patrol-group-user-ref/search",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupAddGroup:function(t){return Object(i["b"])("/patrol/v1/patrol-group/add",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupDeleteGroup:function(t){return Object(i["b"])("/patrol/v1/patrol-group/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupModifyGroup:function(t){return Object(i["b"])("/patrol/v1/patrol-group/update",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupDeletePersion:function(t){return Object(i["b"])("/patrol/v1/patrol-group-user-ref/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},queryDeletePersion:function(t){return Object(i["b"])("/patrol/v1/patrol-group-user-ref/whether-has-ref-order",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},pollingGroupGetPersionList:function(t){return Object(i["b"])("/patrol/v1/patrol-group/staff-list",t,{headers:{"Content-Type":"application/json"}})},pollingGroupSearchPersion:function(t){return Object(i["b"])("/patrol/v1/patrol-group/staff-search",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},personalTodayOrder:function(){return Object(i["b"])("/patrol/v1/patrol-order/list-personal-today-order")},personalOrderPoint:function(t){return Object(i["b"])("/patrol/v1/patrol-order/list-personal-order-point",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPersonalOrderPoint:function(t){return Object(i["b"])("/patrol/v1/patrol-order/get-personal-order-point-detail",t,{headers:{"Content-Type":"application/json"}})},pointPick:function(t){return Object(i["b"])("/patrol/v1/patrol-point-pick/pick",t,{headers:{"Content-Type":"application/json"}})},getPointDetailPick:function(t){return Object(i["b"])("/patrol/v1/patrol-order/get-personal-order-point-detail-with-pick",t,{headers:{"Content-Type":"application/json"}})},getPositionList:function(t){return Object(i["b"])("/patrol/v1/patrol-point/list-with-page",t)},getPositionSearchList:function(t){return Object(i["b"])("/patrol/v1/patrol-point/search",t)},getPositionDetail:function(t){return Object(i["b"])("/patrol/v1/patrol-point/get-point-detail",t)},delPosition:function(t){return Object(i["b"])("/patrol/v1/patrol-point/delete",t)},getPatrolGroupList:function(){return Object(i["b"])("/patrol/v1/patrol-group/list-for-quote")},getPatrolItemCateList:function(t){return Object(i["b"])("/patrol/v1/patrol-item-cate/list",t)},getPatrolItemGetListByCate:function(t){return Object(i["b"])("/patrol/v1/patrol-item/get-list-by-cate",t)},addPosition:function(t){return Object(i["b"])("/patrol/v1/patrol-point/add",t,{headers:{"Content-Type":"application/json"}})},updatePosition:function(t){return Object(i["b"])("/patrol/v1/patrol-point/update",t,{headers:{"Content-Type":"application/json"}})},getWeekTodoRedPorint:function(t){return Object(i["b"])("/patrol/v1/patrol-order/list-last-week-statistics",t,{headers:{"Content-Type":"application/json"}})},getTaskList:function(t){return Object(i["b"])("/patrol/v1/patrol-order/list-org-order-with-page",t,{headers:{"Content-Type":"application/json"}})},getMyTaskList:function(t){return Object(i["b"])("/patrol/v1/patrol-order/list-personal-order-with-page",t,{headers:{"Content-Type":"application/json"}})},getTaskOrderInfo:function(t){return Object(i["b"])("/patrol/v1/patrol-order/get",t)},deleteTaskOrder:function(t){return Object(i["b"])("/patrol/v1/patrol-order/delete",t)},getTargetDetailInfo:function(t){return Object(i["b"])("/patrol/v1/patrol-order/get-order-point",t,{headers:{"Content-Type":"application/json"}})},pointListWidthpage:function(t){return Object(i["b"])("/patrol/v1/patrol-point/list-with-page",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},patrolGroupList:function(t){return Object(i["b"])("/patrol/v1/patrol-group/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},groupUserList:function(t){return Object(i["b"])("/patrol/v1/patrol-group-user-ref/group-user-list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},jobConfAdd:function(t){return Object(i["b"])("/patrol/v1/patrol-job-conf/add",t,{headers:{"Content-Type":"application/json"}})},startTaskAction:function(t){return Object(i["b"])("/patrol/v1/patrol-order/start",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},listPointItem:function(t){return Object(i["b"])("/patrol/v1/patrol-job-conf/list-point-item",t,{headers:{"Content-Type":"application/json"}})},abnormalOrderGroup:function(t){return Object(i["b"])("/patrol/v1/patrol-point-pick/list-group-range",t)},getAbnormalOrderList:function(t){return Object(i["b"])("/patrol/v1/patrol-point-pick/list-abnormal-order-with-page",t,{headers:{"Content-Type":"application/json"}})},updateTask:function(t){return Object(i["b"])("/patrol/v1/patrol-order/edit",t,{headers:{"Content-Type":"application/json"}})},getCycleTaskList:function(t){return Object(i["b"])("/patrol/v1/patrol-job-conf/list-with-page",t,{headers:{"Content-Type":"application/json"}})},getCycleTaskDetail:function(t){return Object(i["b"])("/patrol/v1/patrol-job-conf/get",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},restartCycleTask:function(t){return Object(i["b"])("/patrol/v1/patrol-job-conf/restart",t,{headers:{"Content-Type":"application/json"}})},closeCycleTask:function(t){return Object(i["b"])("/patrol/v1/patrol-job-conf/close",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},stopCycleTask:function(t){return Object(i["b"])("/patrol/v1/patrol-job-conf/stop",t,{headers:{"Content-Type":"application/json"}})},listPointOption:function(t){return Object(i["b"])("/patrol/v1/patrol-job-conf/list-point-option",t,{headers:{"Content-Type":"application/json"}})}},Object(n["a"])(r,"patrolGroupList",(function(t){return Object(i["b"])("/patrol/v1/patrol-group/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(n["a"])(r,"groupUserList",(function(t){return Object(i["b"])("/patrol/v1/patrol-group-user-ref/group-user-list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(n["a"])(r,"jobConfAdd",(function(t){return Object(i["b"])("/patrol/v1/patrol-job-conf/add",t,{headers:{"Content-Type":"application/json"}})})),Object(n["a"])(r,"listPointItem",(function(t){return Object(i["b"])("/patrol/v1/patrol-job-conf/list-point-item",t,{headers:{"Content-Type":"application/json"}})})),Object(n["a"])(r,"abnormalOrderDetail",(function(t){return Object(i["b"])("/patrol/v1/patrol-point-pick/get",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(n["a"])(r,"abnormalOrderMark",(function(t){return Object(i["b"])("/patrol/v1/patrol-point-pick/add-point-log",t,{headers:{"Content-Type":"application/json"}})})),Object(n["a"])(r,"abnormalOrderClose",(function(t){return Object(i["b"])("/patrol/v1/patrol-point-pick/close",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(n["a"])(r,"checkPositionNameExist",(function(t){return Object(i["b"])("/patrol/v1/patrol-point/check-name-exists",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(n["a"])(r,"getMyPatrolList",(function(t){return Object(i["b"])("/patrol/v1/my-patrol-point-pick/list-abnormal-order-with-page",t,{headers:{"Content-Type":"application/json"}})})),Object(n["a"])(r,"getMyPatrolDetails",(function(t){return Object(i["b"])("/patrol/v1/my-patrol-point-pick/get",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(n["a"])(r,"operationMyPatrolRotate",(function(t){return Object(i["b"])("/patrol/v1/my-patrol-point-pick/rotate",t,{headers:{"Content-Type":"application/json"}})})),Object(n["a"])(r,"submitMyPatrolAbnormal",(function(t){return Object(i["b"])("/patrol/v1/my-patrol-point-pick/abnormal-order-submit",t,{headers:{"Content-Type":"application/json"}})})),Object(n["a"])(r,"getMyGroupUserList",(function(t){return Object(i["b"])("/patrol/v1/patrol-group-user-ref/my-group-user-option",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(n["a"])(r,"restartPatrolPick",(function(t){return Object(i["b"])("/patrol/v1/patrol-point-pick/restart",t,{headers:{"Content-Type":"application/json"}})})),Object(n["a"])(r,"abnormalOrderAssign",(function(t){return Object(i["b"])("/patrol/v1/patrol-point-pick/assign",t,{headers:{"Content-Type":"application/json"}})})),Object(n["a"])(r,"abnormalOrderRemarks",(function(t){return Object(i["b"])("/patrol/v1/patrol-point-pick/add-point-log",t,{headers:{"Content-Type":"application/json"}})})),Object(n["a"])(r,"abnormalOrderRestart",(function(t){return Object(i["b"])("/patrol/v1/patrol-point-pick/restart",t,{headers:{"Content-Type":"application/json"}})})),Object(n["a"])(r,"editPeriodTask",(function(t){return Object(i["b"])("/patrol/v1/patrol-job-conf/modify",t,{headers:{"Content-Type":"application/json"}})})),r)},7109:function(t,e,o){"use strict";o("f9fc")},"74c15":function(t,e,o){"use strict";o("7f74")},"7f74":function(t,e,o){},"989e":function(t,e,o){"use strict";var r=o("a09b"),n=o("0119"),i=o("0296"),a=o("c3a3"),s=o("6050"),p=o("28ea"),l=o("8863"),c=o("4d7f"),u=o("c1e5"),d=c("splice"),h=u("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,f=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d||!h},{splice:function(t,e){var o,r,c,u,d,h,w=s(this),j=a(w.length),T=n(t,j),y=arguments.length;if(0===y?o=r=0:1===y?(o=0,r=j-T):(o=y-2,r=f(b(i(e),0),j-T)),j+o-r>m)throw TypeError(g);for(c=p(w,r),u=0;u<r;u++)d=T+u,d in w&&l(c,u,w[d]);if(c.length=r,o<r){for(u=T;u<j-r;u++)d=u+r,h=u+o,d in w?w[h]=w[d]:delete w[h];for(u=j;u>j-r+o;u--)delete w[u-1]}else if(o>r)for(u=j-r;u>T;u--)d=u+r-1,h=u+o-1,d in w?w[h]=w[d]:delete w[h];for(u=0;u<o;u++)w[u+T]=arguments[u+2];return w.length=j-r+o,c}})},"9f33":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAABmCAYAAAAULcvYAAAEkUlEQVRYR73Y6XPTRhjHca2cBAMlECBQrnJffX6mBdJytED/gL5u/7X2j+lQrnCZJJZ2JdkyMSEcAcIRgoMPabcjZt2hb8rDwuBXtuXPfp/RajRjCc/zvCiKftda/+F53obi8/+9hBDa87y/jDG/iuKHUsqXHPj+olrrCWGM8ZVS+YeKg+P/KRtjSkqpzB7MAAyzF7p48eLQ+Ph43wkbY4aUUgPcBzDCLler1eFyudyzoAdgFRtLKYtS95OxEKJLRGV2OU3TVd1ut1MAIUSHiFY7Yc/zOgD4uNVqldvt9ltbfktEa9jlycnJ1aOjoytOeH5+fvXS0tI77HneCoC17HK1Wl1TLpfbFrQBfMXGtVptbalUeuOEFxYW1i4uLg7wGwDr2GUpZTHmsj1hy0Q06oSLRQDwcZIk67Ise23Lr4loPbucpulot9tdsuA1AGe8BOCDN8F/b0nVanV9uVx+Zb94BWCMPfb09PSG4eHh4u5ZvD4Ot1qtDe12e4BfAtjILgdBMOb7/gsLXgDYxMZzc3Njy8vLblgptdEY89zu83Mi2swux3G8Kc/zRQueA3DGiwDG2eV6vb653+8/s+AZgC1sPDU1NT4yMvLUCadpOt7tdgf4KYCt7HKtVttSKpWeWPAEwNds3Gw2t3Q6HTc8Ozu7dWVlZcHWFgBsY5ellMWYjz8HfgxgO7scRdE2rfUje3k+IqIdbJwkyfYsyx5a8AiAM34IYCe7PDMzs2NoaOiBBQ8A7GLjer2+o9/vu+E0TXd2u915W5sH8A27HIbhLiHEfSfcbDZ3dTqdAb4PYDe7LKUsxpyz+zxHRHvYOIqi3VrrexbMAXDDQoh7RLSXXY7jeE+e5y0LWgD2fRmcJMneLMtmbW0WwH52OQiCfb7v33XCjUZjX6/XG+C7AA6wy2EY7hdCNC1oAjjIxkqpA8aY9JOxECIlokPschRFB7XWDXt5NojosBP2PK8BgI/jOD6U53nd1uoAjrDLtVrtcKlUSpxwkiSHsywb4ATAUXY5CIIjvu/HFsQAvmXjMAyPCiEiJ9xoNI72er0BjgAQuyylLMZUdp8VEcEJF4sA4GOlFBljpC1LIqqwy1EUQWsdFqBYpFKpuGHP80IAx9jlIAgqvu8HFgQAvmPjMAyPCSFqTjhJkmNZlg1wDcD37LKUshhzxp7tGSI67oSLRQB8FC7GnLblaSI6wS4rpY4bY6YsmAbghotFKpXKSXY5iqITWus7FtwBMMHGQRCc9H2/6oTjOD6Z5/kAVwH8wC6HYTghhLhtwW0AP7JxkiQTWZa5YSllMeYtu8+3iOgUuyylLMa8acEtAM74JoDT7LJS6pQx5oYd+wYRnWHjKIpOa62v29vQjUql4oY9z7sO4Cy7HATBGd/3Jy2YBPATG8dxfCbPc2d8Ns/za7Z2DcDP7LKUshjz6ufAVwGc+5hyMeYVu89XiOg8GyulzhljLltwBYAbFkJcJqIL7HIURee11pcsuATgly+D4zi+kOf53+za+4/liz8oeZ43hRBD3AWK3717LF+8UUr9Zoz5k/Nc//3H8v8AmvrP39gM3tYAAAAASUVORK5CYII="},a427:function(t,e,o){"use strict";o.r(e);var r,n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"group"},[r("nav-bar",{attrs:{onlyBack:!0,title:t.$t("polling.editTask")},scopedSlots:t._u([{key:"right",fn:function(){return[r("strong",{on:{click:t.publish}},[t._v(t._s(t.$t("polling.publish")))])]},proxy:!0}])}),r("div",{staticClass:"content",staticStyle:{"padding-top":"47px"}},[r("van-form",[r("van-field",{attrs:{name:t.$t("polling.userName"),label:t.$t("polling.taskName"),"input-align":"right",placeholder:t.$t("polling.inputTaskName"),required:""},model:{value:t.taskData.jobName,callback:function(e){t.$set(t.taskData,"jobName",e)},expression:"taskData.jobName"}}),r("div",{staticClass:"van-hairline--bottom",staticStyle:{display:"flex","padding-left":"10px"}},[r("img",{staticStyle:{width:"7px",height:"45px",margin:"19px 5px 2px 0px"},attrs:{src:o("9f33")}}),r("div",{staticStyle:{width:"100%"}},[r("van-field",{attrs:{readonly:"",clickable:"",required:"",disabled:"",name:"picker",label:"人员",value:t.picker,"input-align":"right",placeholder:t.$t("polling.notDesignatedTask"),"right-icon":"arrow"},on:{click:function(e){t.showPersonPop=!0}},model:{value:t.taskData.userStr,callback:function(e){t.$set(t.taskData,"userStr",e)},expression:"taskData.userStr"}}),r("van-field",{attrs:{readonly:"",required:"",clickable:"",disabled:"",name:"picker",label:t.$t("polling.target"),value:t.points,"input-align":"right",placeholder:t.$t("polling.selectTarget"),"right-icon":"arrow"},model:{value:t.taskData.targetStr,callback:function(e){t.$set(t.taskData,"targetStr",e)},expression:"taskData.targetStr"}})],1)]),r("van-field",{attrs:{readonly:"",clickable:"",required:"",disabled:"",name:"picker",value:t.taskData.orderSort,label:t.$t("polling.cycle"),"input-align":"right",placeholder:t.$t("polling.setTimesAndCorresponding"),"right-icon":"arrow"}}),r("van-field",{attrs:{readonly:"",clickable:"",required:"",name:"picker",value:t.taskData.startTime+"~"+t.taskData.endTime,label:t.$t("polling.times"),"input-align":"right",placeholder:t.$t("polling.setTimesAndCorresponding"),"right-icon":"arrow"},on:{click:t.choiceTime}}),r("editTaskChoiseTime",{attrs:{showChoiceTime:t.showChoiceTime,times:t.cishu},on:{choiceCishu:t.choiceCishu,cancle:t.cancle}}),r("div",{staticClass:"beizhu"},[r("p",[t._v("备注（选填）")]),r("van-field",{attrs:{rows:"3",autosize:"",disabled:"",type:"textarea","show-word-limit":"",placeholder:"请输入备注",maxlength:"50"},model:{value:t.taskData.remark,callback:function(e){t.$set(t.taskData,"remark",e)},expression:"taskData.remark"}}),r("van-row",{staticStyle:{overflow:"hidden","margin-right":"10px",background:"#fff"},attrs:{gutter:"20"}},t._l(t.taskData.resources,(function(e,o){return r("van-col",{key:o,attrs:{span:"8"}},[r("div",[r("van-image",{staticStyle:{position:"relative",top:"-20px",left:"12px"},attrs:{src:t.resourceUrl(e),fit:"cover"}})],1)])})),1)],1)],1)],1)],1)},i=[],a=(o("72b3"),o("cca2"),o("6540"),o("270f"),o("28f8")),s=(o("7336"),o("b08c")),p=o("da1d"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("van-popup",{style:{width:"100%",height:"100%"},attrs:{position:"right"},model:{value:t.showChoiceTime,callback:function(e){t.showChoiceTime=e},expression:"showChoiceTime"}},[r("nav-bar",{attrs:{title:"次数/时间"},scopedSlots:t._u([{key:"left",fn:function(){return[r("van-icon",{attrs:{name:"arrow-left"},on:{click:t.onClickLeft}})]},proxy:!0},{key:"right",fn:function(){return[r("span",{on:{click:t.selectFinish}},[t._v("确定")])]},proxy:!0}])}),r("van-list",{staticStyle:{"padding-top":"47px"}},t._l(t.times,(function(e,n){return r("div",{key:n,staticClass:"timeItem"},[0!=n?r("van-image",{staticStyle:{"margin-top":"2px","margin-right":"5px",width:"17px",height:"17px"},attrs:{src:o("ea4d")},on:{click:function(e){return t.deleteItem(n)}}}):t._e(),r("p",{staticStyle:{flex:"1"},on:{click:function(e){return t.selectTimeItem(n)}}},[t._v(t._s(e.title))]),r("div",{staticClass:"right",class:{active:e.hasData},on:{click:function(e){return t.selectTimeItem(n)}}},[r("div",[t._v(t._s(e.time))])]),r("van-icon",{staticStyle:{"margin-top":"2px"},attrs:{name:"arrow"}})],1)})),0),r("van-popup",{attrs:{position:"bottom"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[r("div",{staticClass:"popTitle van-hairline--top-bottom"},[r("div",{staticStyle:{color:"#666666",flex:"1","font-size":"16px"},on:{click:t.dissPop}},[t._v("取消")]),r("div",{staticClass:"rightBtn",staticStyle:{color:"#27CBBB"},on:{click:t.sureOk}},[t._v("确认")])]),r("div",{staticStyle:{display:"flex","margin-top":"22px"}},[r("div",{staticStyle:{flex:"1","font-size":"15px","text-align":"center"}},[r("div",{staticStyle:{color:"#666666"}},[t._v("开始时间")]),r("van-datetime-picker",{attrs:{type:"time","show-toolbar":!1},model:{value:t.currentStartTime,callback:function(e){t.currentStartTime=e},expression:"currentStartTime"}})],1),r("div",{staticStyle:{flex:"1","font-size":"15px","text-align":"center"}},[r("div",{staticStyle:{color:"#666666","z-index":"10"}},[t._v("结束时间")]),r("van-datetime-picker",{attrs:{type:"time","show-toolbar":!1},model:{value:t.currentEndTime,callback:function(e){t.currentEndTime=e},expression:"currentEndTime"}})],1)])])],1)],1)},c=[],u=(o("989e"),{data:function(){return{currentStartTime:"00:00",currentEndTime:"00:00",showPop:!1,selectItem:-1}},props:{times:Array,showChoiceTime:{type:Boolean}},components:{navBar:p["a"]},watch:{showChoiceTime:function(t){t&&null!=this.times&&this.times.length>0&&(this.currentStartTime=this.times[0].startTime,this.currentEndTime=this.times[0].endTime)}},methods:{onClickLeft:function(){this.$emit("cancle")},addTimeMethod:function(){var t={title:"巡检"+(this.times.length+1),time:"请选择巡检时间",hasData:!1};this.times.push(t)},deleteItem:function(t){this.times.splice(t,1)},selectFinish:function(){if(this.times.length<=0)this.$toast("请添加巡检次数");else{var t=!0;this.times.map((function(e){e.hasData||(t=!1)})),t?(console.log(this.times),this.$emit("choiceCishu",this.times)):this.$toast("请添加巡检时间")}},selectTimeItem:function(t){this.times.length>0?(this.currentStartTime=this.times[t].startTime,this.currentEndTime=this.times[t].endTime):(this.currentStartTime="00:00",this.currentEndTime="00:00"),this.selectItem=t,this.showPop=!0},dissPop:function(){this.showPop=!1},sureOk:function(){this.showPop=!1,this.times[this.selectItem]={title:this.times[this.selectItem].title,time:this.currentStartTime+"~"+this.currentEndTime,startTime:this.currentStartTime,endTime:this.currentEndTime,hasData:!0}}}}),d=u,h=(o("74c15"),o("c701")),b=Object(h["a"])(d,l,c,!1,null,"b9a8b93c",null),f=b.exports,m=(o("2939"),o("0319")),g=(r={components:{editTaskChoiseTime:f,navBar:p["a"]},mounted:function(){var t=this;window.kidBackPress=function(){return!!t.showChoiceTime&&(t.showChoiceTime=!1,!0)}}},Object(a["a"])(r,"mounted",(function(){var t=this;window.kidBackPress=function(){return!!(t.showSelectTime||t.showChoiceTime||t.showSelectPerson||t.showSelectPoint)&&(t.showSelectTime=!1,t.showChoiceTime=!1,t.showSelectPerson=!1,t.showSelectPoint=!1,!0)}})),Object(a["a"])(r,"data",(function(){return{requestBody:{jobName:"",remark:""},showSelectTime:!1,showChoiceTime:!1,taskData:this.$route.query.taskData||{},indexs:1,checked:!0,isTeam:!1,Taskvalue:"",picker:"",points:"",tt:"",xuanzecishu:"",cishu:[],selectPersons:[[]],selectPoint:[],groupUserIds:[],jobType:1,actions:[{name:this.$t("polling.personType")},{name:this.$t("polling.teamType")}],photo:[{indexs:1,isAdd:!0,photo:"https://bkimg.cdn.bcebos.com/pic/d4628535e5dde71194700d64adefce1b9c166185?x-bce-process=image/watermark,g_7,image_d2F0ZXIvYmFpa2U5Mg==,xp_5,yp_5"}],addImgdata:{indexs:this.indexs,isAdd:!0,photo:"https://bkimg.cdn.bcebos.com/pic/d4628535e5dde71194700d64adefce1b9c166185?x-bce-process=image/watermark,g_7,image_d2F0ZXIvYmFpa2U5Mg==,xp_5,yp_5"}}})),Object(a["a"])(r,"methods",{cancle:function(){this.showSelectTime=!1,this.showChoiceTime=!1,this.showSelectPerson=!1,this.showSelectPoint=!1},selectPerson:function(t,e){0==e?(this.isTeam=!1,this.requestBody.jobType=2):(this.isTeam=!0,this.requestBody.jobType=1),this.showSelectPerson=!0,this.showPersonPop=!1},selectPointMethod:function(){this.groupUserIds.length<=0?Object(s["a"])("请先选择巡检组人员"):this.showSelectPoint=!0},resourceUrl:function(t){return 2==t.resourceType?t.snapshotUrl:t.thumbnailUrl},choiceTime:function(){this.cishu=[{hasData:!0,title:"次数"+this.taskData.orderSort,startTime:this.taskData.startTime,endTime:this.taskData.endTime,time:this.taskData.startTime+"~"+this.taskData.endTime}],this.showChoiceTime=!0},selectPersonFinish:function(t,e){var o=this;this.selectPersons=t,this.requestBody.groupUserIds=[];var r=[];t.forEach((function(t){t.persons.forEach((function(t){r.push(t.realName),o.requestBody.groupUserIds.push(t.id)}))})),this.isTeam&&(this.requestBody.inChargeGroupUserIds=[],this.requestBody.inChargeGroupUserIds.push(e.id)),this.groupUserIds=this.requestBody.groupUserIds,this.picker=r.join(","),this.jobType=this.isTeam?1:2,this.requestBody.jobType=this.isTeam?1:2,this.showSelectPerson=!1},selectPointListener:function(t){var e=this;this.selectPoint=t,this.requestBody.targets=[];var o=[];t.forEach((function(t,r){var n={targetId:t.pointId,targetSort:r,targetType:1};o.push(t.pointName),e.requestBody.targets.push(n)})),this.points=o.join(","),this.showSelectPoint=!1},selectTask:function(){this.showSelectTime=!0},selectText:function(t,e){if(this.requestBody.cycleType=e,1==e){var o=t.map((function(t){return t.index}));this.tt=o.join(","),this.requestBody.jobConfDate=this.tt}else this.requestBody.jobConfDate=t,this.tt=t;this.showSelectTime=!1},choiceCishu:function(t){var e=this;this.cishu=t;var o=JSON.parse(JSON.stringify(t));o=o.map((function(t){var o={startTime:t.startTime,endTime:t.endTime};return e.taskData.startTime=o.startTime,e.taskData.endTime=o.endTime,o})),this.xuanzecishu="已选择",this.requestBody.times=o,this.showChoiceTime=!1},onClickLeft:function(){this.$router.go(-1)},publish:function(){var t=this;""==this.taskData.jobName?Object(s["a"])("请填写完整"):m["a"].updateTask({orderBizId:this.taskData.orderBizId,startTime:this.taskData.startTime,endTime:this.taskData.endTime,jobName:this.taskData.jobName}).then((function(e){Object(s["a"])(t.$t("polling.modifySuccess")),t.$router.go(-1)}))}}),r),w=g,j=(o("7109"),Object(h["a"])(w,n,i,!1,null,"7778db90",null));e["default"]=j.exports},cca2:function(t,e,o){"use strict";var r=o("a09b"),n=o("7866"),i=o("ec87"),a=o("f8b2"),s=[].join,p=n!=Object,l=a("join",",");r({target:"Array",proto:!0,forced:p||!l},{join:function(t){return s.call(i(this),void 0===t?",":t)}})},ea4d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAACbElEQVRYR82YTWgTQRTH/2823dSqLbbgoX4d9NaDTRQvKl786ipE0YMn0YIglt5F6Ckg3qUiCCpe9KBoQIMfp6JexEY9eNODXz0IbWnVNrvNzpNZSajJbnbDbnRyyCHz5v9+m3nznzdLaOEzf3RHX9p2dgG0XTJtIeJ+MK3yJIh/MtOUIP4A8Gs7bb7ovv9qOqo8RQl0DmzLVlJ82mDsZCAVZQ4BFZfwMlWhG+aTyVLYnKYgfHjrukVpXBDA7jChZuMSeL5CuBfp4btvQXGBIOWDgxYJMcbAyjgQ1bkE/GIp852P3xb99HxBylbmLEDnkgBo1OArncU3V+t/bwBpL0Q1fSPMXyBqOSDEpfb8E3WqUp5fvkw1EFWYjjTuJlUTYQ+jasYU7vFqAddAFqzseNzdEZa8flztpq5iacSzIfWlfEIafLNVoSTihUunlM94IAuHspcFY08Swq1qSMJE16PSKP2x7cqzqI7ZaqKweOXAdjq1j2xrMMcQ+bAJ7RwnyDGyrUyeQbl2JgrTJnCBFoeyt4kw4Bu8uhtifw7U0xem1XSc56YhnxaAH/O+ccx4T2UrMwHQmoYIIWCO3wFt3BwLoualnz/CGTkBSOmjx7NUHspOgtDR4P39G2Bee5AIRFXEOXMEPPXF5/jBUiAIOkyY1wug3rWJwPDMdzjDOWDJCQAJWhoVvn4TjGMnIXp6Y8HIuRm4924BXz8F6PBs82KNlT76ZK9Ytdm+2hiaDhZvuum9+hx6WrUBXiugQ2OkQLRpFRWMFs1z1X60uE78G5iIF6wajA5XzloPocMlfPmR9d9fS9Sfn+18UfMbDo8z27DFXQQAAAAASUVORK5CYII="},f9fc:function(t,e,o){}}]);