(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52068554"],{"0a24":function(t,e,a){t.exports=a.p+"img/icon_shibai.e8f45500.png"},"0afd":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grade"},[n("nav-bar",{attrs:{title:"选择班级"},scopedSlots:t._u([{key:"left",fn:function(){return[n("van-icon",{attrs:{name:"arrow-left"},on:{click:t.closeGrade}})]},proxy:!0}])}),n("div",{staticClass:"main"},[n("div",{staticClass:"info-list"},[n("h3",[t._v("请选择您任教的班级（可多选）")]),t._l(t.schoolInfo,(function(e,a){return void 0!==e.class[0]?n("div",{key:a,staticClass:"content-info"},[n("div",{staticClass:"select-all"},[n("div",{staticClass:"cheack-box-elm",on:{click:function(e){return t.activeElemet(a)}}},[e.flag?n("van-icon",{attrs:{size:"15px",color:"#ffffff",name:"success"}}):n("i",{staticClass:"circle"}),n("span",[t._v(t._s(e.grade))])],1)]),n("div",{staticClass:"select-radio"},t._l(e.class,(function(e,o){return n("span",{key:o,class:{active:!e.flag},on:{click:function(e){return t.activeElemet(a,o)}}},[t._v(t._s(e.name))])})),0)]):t._e()}))],2)]),n("div",{staticClass:"footers"},[n("div",{staticClass:"footers-left"},[n("div",{staticClass:"cheack-box-elm",on:{click:t.selectAll}},[t.checked?n("van-icon",{attrs:{size:"15px",color:"#ffffff",name:"success"}}):n("i",{staticClass:"circle"}),n("span",[t._v("全部班级")])],1),n("img",{staticClass:"hint-icon",attrs:{src:a("16ee")},on:{click:function(e){return e.preventDefault(),t.hintInfo(e)}}})]),n("van-button",{attrs:{round:"",size:"small",color:"linear-gradient(to right, #79DABD, #4CD7EC)",type:"button","native-type":"submit"},on:{click:t.subInfo}},[t._v("确定")])],1)],1)},o=[],i=(a("2097"),a("72b3"),a("a543"),a("cca2"),a("6540"),a("270f"),a("3f27"),a("8048")),c=a("da1d"),r=a("bd15"),s={data:function(){return{checked:!1,schoolInfo:[]}},components:{navBar:c["a"]},mounted:function(){var t=this;r["a"].gradeClazzOption({schoolId:this.schoolId}).then((function(e){e.data.forEach((function(e,a){var n=e.subList.map((function(e){return{clazzId:e.clazzId,name:e.clazzName,flag:t.clazzIds.join("").indexOf(e.clazzId)>=0}}));void 0!=e.subList[0]&&t.schoolInfo.push({grade:e.gradeName,gradeId:e.gradeId,class:n,flag:!!n.every((function(t){return t.flag}))})})),t.schoolInfo.every((function(t){return t.flag}))&&(t.checked=!0),"-1"==t.clazzIds[0]&&t.selectAll()})).catch((function(t){}))},props:["schoolId","clazzIds"],methods:{closeGrade:function(){this.$emit("closeGrade")},activeElemet:function(t,e){void 0==e?(this.schoolInfo[t].flag=!this.schoolInfo[t].flag,this.schoolInfo[t].flag&&void 0==e?(this.schoolInfo[t].class=this.schoolInfo[t].class.map((function(t){return t.flag=!0,t})),this.schoolInfo.every((function(t){return t.flag}))&&(this.checked=!0)):(this.checked=!1,this.schoolInfo[t].class=this.schoolInfo[t].class.map((function(t){return t.flag=!1,t})))):(this.schoolInfo[t].class[e].flag=!this.schoolInfo[t].class[e].flag,this.schoolInfo[t].class.every((function(t){return t.flag}))?(this.schoolInfo[t].flag=!0,this.schoolInfo.every((function(t){return t.flag}))&&(this.checked=!0)):(this.schoolInfo[t].flag=!1,this.checked=!1))},selectAll:function(){var t=this;this.checked?this.schoolInfo.forEach((function(e,a){t.schoolInfo[a].flag=!0,t.activeElemet(a)})):this.schoolInfo.forEach((function(e,a){t.schoolInfo[a].flag=!1,t.activeElemet(a)}))},subInfo:function(){this.$emit("classInfo",this.schoolInfo,this.checked),this.closeGrade()},hintInfo:function(){i["a"].alert({title:"提示",message:"勾选全部班级，该教职工将被授权全园班级管理权限。"}).then((function(){}))}}},l=s,f=(a("8a4a"),a("c701")),u=Object(f["a"])(l,n,o,!1,null,null,null);e["a"]=u.exports},"16ee":function(t,e){t.exports="data:image/png;base64,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"},2062:function(t,e,a){},2097:function(t,e,a){"use strict";var n=a("a09b"),o=a("bfc3").every,i=a("f8b2"),c=a("c1e5"),r=i("every"),s=c("every");n({target:"Array",proto:!0,forced:!r||!s},{every:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"667d":function(t,e,a){"use strict";a("2062")},"8a4a":function(t,e,a){"use strict";a("f320")},"8c11":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"teacher-info"},[n("navBar",{attrs:{title:"教师信息"}}),n("div",{staticClass:"main"},[n("van-cell-group",{staticClass:"update-info",attrs:{border:!1}},[t.isUpdate?t._e():n("van-cell",{attrs:{title:"姓名"}},[t._v(t._s(t.formData.realName))]),t.isUpdate?t._e():n("van-cell",{attrs:{title:"性别"}},[t._v(t._s(t.formData.genderName?t.formData.genderName:"未填写"))]),t.isUpdate?t._e():n("van-cell",{attrs:{title:"手机号"}},[t._v(t._s(t.formData.mobile))]),t.isUpdate?n("van-field",{attrs:{label:"姓名","input-align":"right","right-icon":"arrow"},model:{value:t.formData.realName,callback:function(e){t.$set(t.formData,"realName",e)},expression:"formData.realName"}}):t._e(),t.isUpdate?n("van-field",{attrs:{label:"性别","input-align":"right","right-icon":"arrow",placeholder:"请选择性别"},on:{click:t.getGender},model:{value:t.formData.genderName,callback:function(e){t.$set(t.formData,"genderName",e)},expression:"formData.genderName"}}):t._e(),t.isUpdate?n("van-field",{attrs:{label:"手机号","input-align":"right","right-icon":"arrow"},model:{value:t.formData.mobile,callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}}):t._e()],1),n("van-cell-group",{staticClass:"update-info",staticStyle:{"margin-top":"10px"},attrs:{border:!1}},[t.isUpdate?t._e():n("van-cell",{attrs:{title:"角色",value:t.formData.roleNames?t.formData.roleNames:"未填写"}}),t.isUpdate?t._e():n("van-cell",{attrs:{title:"班级",value:t.formData.clazzNames?t.formData.clazzNames:"未填写"}}),t.isUpdate?n("van-field",{attrs:{label:"角色",readonly:"readonly","input-align":"right",placeholder:"请选择您的角色","right-icon":"arrow"},on:{focus:t.getRole},model:{value:t.formData.roleNames,callback:function(e){t.$set(t.formData,"roleNames",e)},expression:"formData.roleNames"}}):t._e(),t.isUpdate?n("van-cell",{staticClass:"size-color",attrs:{"is-link":"",title:"班级",value:t.formData.clazzNames},on:{click:t.getGrade}}):t._e()],1),t.isUpdate?n("div",{staticClass:"btn-sub"},[n("van-button",{attrs:{round:"",size:"large",color:"linear-gradient(to right, #79DABD, #4CD7EC)",type:"button","native-type":"submit"},on:{click:t.modifyTeacherInfo}},[t._v("确认修改")])],1):t._e(),n("van-dialog",{attrs:{"confirm-button-text":"我知道了","confirm-button-color":"#48D4C6"},on:{confirm:t.confirm},model:{value:t.hintShow,callback:function(e){t.hintShow=e},expression:"hintShow"}},[n("div",{staticClass:"hint"},[n("img",{attrs:{src:a("0a24")}}),n("p",[t._v("该手机号已被绑定，请您换手机号试试！")])])])],1),t.pickerFlag?n("vantPicker",{attrs:{infoList:t.infoList},on:{onPivkerValue:t.onPivkerValue,closePicker:t.closePicker}}):t._e(),t.gradeFlag?n("gradeComp",{attrs:{schoolId:t.schoolId},on:{closeGrade:t.closeGrade,classInfo:t.classInfo}}):t._e()],1)},o=[],i=(a("72b3"),a("cca2"),a("1d7a"),a("270f"),a("da1d")),c=a("b14a"),r=a("bd15"),s=a("0afd"),l=a("2939"),f={data:function(){return{formData:{realName:"",mobile:"",genderName:"",roleNames:"",clazzNames:""},info:"",isUpdate:!1,infoList:"",genderList:{title:"请选择性别",list:[{name:"男",id:1},{name:"女",id:2}],name:"gender"},genderInfo:"",roleList:{title:"请选择角色",list:[],name:"role"},roleInfo:"",pickerFlag:!1,gradeFlag:!1,hintShow:!1,clazzIds:"",role:"",userInfo:""}},components:{vantPicker:c["a"],gradeComp:s["a"],navBar:i["a"]},mounted:function(){l["a"].getAppData(),this.userInfo=localStorage.getItem("jsBridgeInfo")&&JSON.parse(localStorage.getItem("jsBridgeInfo"))||"",this.accountTeacherInfo()},methods:{updateInfo:function(){this.isUpdate=!this.isUpdate},getRole:function(){this.pickerFlag=!this.pickerFlag,this.infoList=this.roleList},onPivkerValue:function(t){"role"==t.name?(this.role=t.info[0],this.roleInfo=t.info[0],this.formData.roleNames=t.info[0].name):"gender"==t.name&&(this.genderInfo=t.info[0],this.formData.genderName=t.info[0].name),this.role=t.value},closePicker:function(){this.pickerFlag=!1},getGender:function(){this.pickerFlag=!this.pickerFlag,this.infoList=this.genderList},getGrade:function(){this.gradeFlag=!this.gradeFlag},closeGrade:function(){this.gradeFlag=!1},confirm:function(){},queryRoleOption:function(){var t=this;r["a"].queryRoleOption({orgId:this.info.orgId||"139995758987318276"}).then((function(e){t.roleList.list=e.data}))},classInfo:function(t){var e=this,a=[];this.clazzIds=[],t.forEach((function(t){t.class.forEach((function(t){t.flag&&(a.push(t.name),e.clazzIds.push(t.clazzId))}))})),this.formData.clazzNames=a.join("、")},accountTeacherInfo:function(){var t=this;r["a"].accountTeacherInfo({receiverId:this.userInfo.receiverId}).then((function(e){t.info=e.data,t.formData=e.data}))},modifyTeacherInfo:function(){r["a"].modifyTeacherInfo({id:this.userInfo.receiverId,clazzIds:this.clazzIds.join(","),roleIds:this.roleInfo.id}).then((function(t){}))},onClickLeft:function(){this.$router.go(-1),l["a"].closeWebview()}}},u=f,h=(a("667d"),a("c701")),d=Object(h["a"])(u,n,o,!1,null,null,null);e["default"]=d.exports},a7d6:function(t,e,a){"use strict";a("f257")},abfc:function(t,e,a){"use strict";a("b1df")},b14a:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-popup",{attrs:{position:"bottom"},model:{value:t.showRole,callback:function(e){t.showRole=e},expression:"showRole"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:t.columns,"confirm-button-color":"#000000","toolbar-position":"top","item-height":"33"},on:{cancel:t.onCancel,confirm:t.onCancelRole}},[a("template",{slot:"columns-top"},[a("div",{staticClass:"grade-pick-title"},[t._v(t._s(t.infoList.title))])])],2)],1)],1)},o=[],i=(a("cb3c"),a("6540"),a("1d7a"),{data:function(){return{showRole:!0,columns:[]}},props:["infoList"],watch:{showRole:function(t){t||this.$emit("closePicker")}},mounted:function(){this.columns=this.infoList.list.map((function(t){return t.name}))},methods:{onCancelRole:function(t){this.onPivkerValue(t),this.showRole=!this.showRole},onCancel:function(){this.showRole=!this.showRole},onPivkerValue:function(t){var e=this.infoList.list.filter((function(e){return e.name==t}));this.$emit("onPivkerValue",{value:t,name:this.infoList.name,info:e})}}}),c=i,r=(a("abfc"),a("c701")),s=Object(r["a"])(c,n,o,!1,null,null,null);e["a"]=s.exports},b1df:function(t,e,a){},bd15:function(t,e,a){"use strict";var n=a("d722");e["a"]={createApply:function(t,e){return Object(n["b"])("/kid-arch/v1/teacher/manage/create-apply",t,{headers:{"Content-Type":"application/json"}},e)},getSchoolInfo:function(t){return Object(n["b"])("/kid-arch/v1/teacher/manage/get-school-info",t)},queryRoleOption:function(t){return Object(n["b"])("/user/v1/teacher/role/option",t)},gradeClazzOption:function(t){return Object(n["b"])("/kid-arch/v1/teacher/clazz/school-grade-clazz-option",t)},findTeacherDetail:function(t){return Object(n["b"])("/kid-arch/v1/teacher/manage/find-teacher-apply-detail",t)},auditTeacher:function(t){return Object(n["b"])("/kid-arch/v1/teacher/manage/audit",t,{headers:{"Content-Type":"application/json"}})},accountTeacherInfo:function(t){return Object(n["b"])("/kid-arch/v1/teacher/accountTeacher/info",t)},sendSmsCode:function(t){return Object(n["b"])("/message/v1/sms/send-sms-code",t)},modifyTeacherInfo:function(t){return Object(n["b"])("/kid-arch/v1/teacher/manage/modify-teacher-info",t,{headers:{"Content-Type":"application/json"}})},modifyApplyInfo:function(t){return Object(n["b"])("/kid-arch/v1/teacher/manage/modify-apply-info",t,{headers:{"Content-Type":"application/json"}})},entrySchoolApply:function(t){return Object(n["b"])("/kid-arch/v1/inviteChild/entrySchoolApply",t,{headers:{"Content-Type":"application/json"}})},confirmEntrySchoolApply:function(t){return Object(n["b"])("/kid-arch/v1/inviteChild/confirmEntrySchoolApply",t,{headers:{"Content-Type":"application/json"}})},jointParentGroup:function(t){return Object(n["b"])("/kid-arch/v1/inviteChild/jointParentGroup",t,{headers:{"Content-Type":"application/json"}})},queryShareInfo:function(t){return Object(n["b"])("/kid-arch/v1/inviteChild/queryShareInfo",t)},getApplyDetail:function(t){return Object(n["b"])("/kid-arch/v1/inviteChild/getById",t)},agreeApply:function(t,e){return Object(n["b"])("/kid-arch/v1/inviteChild/agree",t,{},e)},refuseApply:function(t){return Object(n["b"])("/kid-arch/v1/inviteChild/refuse",t)}}},cca2:function(t,e,a){"use strict";var n=a("a09b"),o=a("7866"),i=a("ec87"),c=a("f8b2"),r=[].join,s=o!=Object,l=c("join",",");n({target:"Array",proto:!0,forced:s||!l},{join:function(t){return r.call(i(this),void 0===t?",":t)}})},da1d:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-nav-bar",{attrs:{title:t.t_title,fixed:"",border:t.border}},[t._t("left",[a("van-icon",{staticClass:"nav-go",attrs:{name:"arrow-left"},on:{click:t.onClickLeft}})],{slot:"left"}),t._t("title",null,{slot:"title"}),t._t("right",null,{slot:"right"})],2)},o=[],i=a("2939"),c={computed:{t_title:function(){return this.title?this.title:/.*[\u4e00-\u9fa5]+.*$/.test(this.$route.meta.title)?this.$route.meta.title:this.$t("route.".concat(this.$route.meta.title))}},props:{border:{type:Boolean,default:!0},onlyBack:{type:Boolean,default:!1},title:{type:String}},methods:{onClickLeft:function(){this.onlyBack||i["a"].closeWebview(),this.$router.go(-1)}}},r=c,s=(a("a7d6"),a("c701")),l=Object(s["a"])(r,n,o,!1,null,"2f4d49ad",null);e["a"]=l.exports},f257:function(t,e,a){},f320:function(t,e,a){}}]);