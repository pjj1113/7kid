(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42a64f37"],{"593c":function(e,t,i){},"63be":function(e,t,i){e.exports=i.p+"img/icon_add_media.fb78f160.png"},"7f32":function(e,t,i){},"86bd":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return s}));i("13cf"),i("6540");function a(e){var t=e.commonStyle,i=(e.animations,e.maskStyle),a={position:"absolute",width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px",rotate:"transform: rotate("+t.rotate+"deg)",zIndex:t.zIndex},s={paddingTop:t.paddingTop+"px",paddingLeft:t.paddingLeft+"px",paddingRight:t.paddingRight+"px",paddingBottom:t.paddingBottom+"px",borderWidth:t.borderWidth+"px",borderColor:t.borderColor,borderStyle:t.borderStyle,borderRadius:t.borderRadius+"px",backgroundColor:t.backgroundColor,backgroundImage:"url("+t.backgroundImage+")",backgroundSize:"cover",opacity:t.opacity,boxShadow:t.boxShadow},n={fontFamily:t.fontFamily,fontSize:t.fontSize+"px",fontWeight:t.fontWeight,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing+"px",textAlign:t.textAlign,color:t.color},o={WebkitMask:i.maskImage?"url("+i.maskImage+")":"",WebkitMaskSize:"contain",WebkitMaskRepeat:"no-repeat"};return{pos:a,box:s,font:n,mask:o}}function s(e){var t=e.contentLayout?JSON.parse(e.contentLayout):[];return t=t.map((function(t){return"kid-appraise"===t.elName?t.propsValue.realData=e.developments.map((function(t){return t.evaluation=e.pagesDetail.find((function(e){return e.sort==t.sort}))&&parseInt(e.pagesDetail.find((function(e){return e.sort==t.sort})).content)||0,t})):"kid-catalog"===t.elName?t.propsValue.realData=e.contentsPageDataVOs:"kid-title"===t.elName?t.propsValue.realData=e.title||t.propsValue.title:t.propsValue.realData=e.pagesDetail&&e.pagesDetail.find((function(e){return e.sort===t.sort}))&&e.pagesDetail.find((function(e){return e.sort===t.sort})).content?e.pagesDetail.find((function(e){return e.sort===t.sort})).content:t.propsValue.videoSrc||t.propsValue.title||t.propsValue.text||t.propsValue.imageSrc,t})),e.contentLayout=t,e}},a8e1:function(e,t,i){"use strict";t["a"]={data:function(){return{bWidth:595,bHeight:842,ratio:595/842}},created:function(){},mounted:function(){this.calculate()},methods:{calculate:function(){var e=parseFloat(window.getComputedStyle(this.$refs.growthBlock).width),t=parseFloat(window.getComputedStyle(this.$refs.growthBlock).height),i=this.ratio;e/t>i?(this.bHeight=t-20,this.bWidth=this.bHeight*i):(this.bWidth=e-35,this.bHeight=this.bWidth/i)}}}},b2db:function(e,t,i){e.exports=i.p+"img/icon_add_video.d6a99186.png"},b60d:function(e,t,i){"use strict";i("593c")},bdd2:function(e,t,i){"use strict";i("7f32")},c98f:function(e,t,i){"use strict";i.d(t,"k",(function(){return s})),i.d(t,"j",(function(){return n})),i.d(t,"e",(function(){return o})),i.d(t,"c",(function(){return l})),i.d(t,"i",(function(){return r})),i.d(t,"l",(function(){return d})),i.d(t,"o",(function(){return c})),i.d(t,"n",(function(){return u})),i.d(t,"f",(function(){return h})),i.d(t,"d",(function(){return p})),i.d(t,"m",(function(){return g})),i.d(t,"h",(function(){return f})),i.d(t,"g",(function(){return v})),i.d(t,"b",(function(){return m})),i.d(t,"a",(function(){return y}));var a=i("d722");function s(e){return Object(a["b"])("/growth/v1/school-theme/clazz/stat",e)}function n(e){return Object(a["b"])("/growth/v1/clazz-theme/student/stat",e)}function o(e){return Object(a["b"])("/kid-arch/v1/teacher/clazz/teacher/grade-clazz-option",e)}function l(e){return Object(a["b"])("/growth/v1/clazz-theme/list",e)}function r(e){return Object(a["b"])("/growth/v1/clazz-theme/page/stat",e)}function d(e){return Object(a["b"])("/growth/v1/clazz-theme/page/get-by-pagination",e)}function c(e){return Object(a["b"])("/growth/v1/clazz-theme/write/page",e,{headers:{"Content-Type":"application/json"}})}function u(e){return Object(a["b"])("/growth/v1/student-growth/write/page",e,{headers:{"Content-Type":"application/json"}})}function h(e){return Object(a["b"])("/growth/v1/clazz-theme/preview/by-student-id",e)}function p(e){return Object(a["b"])("/growth/v1/clazz-theme/page/student/stat/get-by-clazzId",e)}function g(e){return Object(a["b"])("/growth/v1/clazz-theme/student/stat",e)}function f(e){return Object(a["b"])("/growth/v1/student-growth/get/current-growth/coverpage",e)}function v(e){return Object(a["b"])("/growth/v1/student-growth/contents-page",e)}function m(e){return Object(a["b"])("/growth/v1/student-growth/page/get-by-pagination",e)}function y(e){return Object(a["b"])("/growth/v1/student-growth/preview",e)}},dcbc:function(e,t,i){e.exports=i.p+"img/icon_add_image.86432556.png"},ebc2:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"finger",rawName:"v-finger:single-tap",value:e.singleTap,expression:"singleTap",arg:"single-tap"}],staticClass:"operator",style:Object.assign({},e.pos)},[a("div",{style:{width:"100%",height:"100%"}},[a("div",{style:Object.assign({},e.box,{width:"100%",height:"100%",overflow:"hidden"})},[a("div",{style:Object.assign({},{width:"100%",height:"100%"},e.mask,{overflow:"auto"})},[a("div",{style:Object.assign({},e.font,{width:"100%",height:"100%"})},[["kid-text","kid-title"].includes(e.ele.elName)?a("div",[e._v(e._s(e.ele.propsValue.realData||"请输入"))]):["kid-image-only"].includes(e.ele.elName)?a("div",{style:{width:"100%",height:"100%",fontSize:0,background:"#f6fafd url("+i("dcbc")+") no-repeat center / 30%"}},[e.ele.propsValue.realData?a("img",{staticStyle:{"object-fit":"cover"},attrs:{src:e.ele.propsValue.realData,width:"100%",height:"100%"}}):e._e()]):["kid-video"].includes(e.ele.elName)?a("kid-video",{style:{width:"100%",height:"100%",fontSize:0,background:"#f6fafd url("+i("b2db")+") no-repeat center / 30%"},attrs:{ele:e.ele,preview:e.preview,pdf:e.pdf}}):["kid-image"].includes(e.ele.elName)?a("div",{style:{width:"100%",height:"100%",fontSize:0,background:"#f6fafd url("+i("63be")+") no-repeat center / 50%"}},[e.ele.propsValue.realData&&e.imgTypes.some((function(t){return e.ele.propsValue.realData.toLowerCase().indexOf("."+t)>-1}))?a("img",{staticStyle:{"object-fit":"cover"},attrs:{src:e.ele.propsValue.realData,width:"100%",height:"100%"}}):e.ele.propsValue.realData&&e.videoTypes.some((function(t){return e.ele.propsValue.realData.toLowerCase().indexOf("."+t)>-1}))?a("kid-video",{attrs:{ele:e.ele,preview:e.preview,pdf:e.pdf}}):a("div",[e._v(e._s(e.ele.propsValue.realData))])],1):"kid-appraise"==e.ele.elName?a("div",e._l(e.ele.propsValue.realData,(function(t,i){return a("div",{key:i,staticClass:"kid-appraise__item"},[a("div",{staticClass:"item-titles"},[t.secondCategory?a("p",{staticClass:"title-category"},[e._v(e._s(t.firstCategory)+" - "+e._s(t.secondCategory))]):a("p",{staticClass:"title-category"},[e._v(e._s(t.firstCategory))]),a("div",{staticClass:"title-content"},[e._v(e._s(t.content))])]),a("div",{staticClass:"item-star"},[a("van-rate",{attrs:{size:"16",count:"3",color:"#f9c647",readonly:!e.show},on:{change:e.evaluate},model:{value:t.evaluation,callback:function(i){e.$set(t,"evaluation",i)},expression:"appraise.evaluation"}})],1)])})),0):"kid-catalog"==e.ele.elName?a("div",e._l(e.ele.propsValue.realData,(function(t,i){return a("div",{key:i},[a("div",{staticClass:"kid-catalog__item"},[a("span",{staticClass:"item-title"},[e._v(e._s(t.title))]),a("span",{staticClass:"item-dot"}),a("span",{staticClass:"item-page"},[e._v(e._s(t.pagination))])])])})),0):e._e()],1)])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"box"},[a("div",{staticClass:"scale scale-nw"}),a("div",{staticClass:"scale scale-ne"}),a("div",{staticClass:"scale scale-sw"}),a("div",{staticClass:"scale scale-se"}),a("div",{staticClass:"scale scale-n"}),a("div",{staticClass:"scale scale-e"}),a("div",{staticClass:"scale scale-s"}),a("div",{staticClass:"scale scale-w"})])])},s=[],n=(i("d0bf"),i("86bd")),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{height:"100%"}},[e.ele.propsValue.realData&&e.videoTypes.some((function(t){return e.ele.propsValue.realData.toLowerCase().indexOf("."+t)>-1}))?[e.pdf?i("kid-video-qr",{attrs:{ele:e.ele}}):i("video",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.ele.propsValue.realData,controls:e.preview,controlslist:"nodownload",poster:e.ele.propsValue.realData+"?x-oss-process=video/snapshot,t_200,f_jpg,m_fast,ar_auto"}},[e._v("您的浏览器不支持 video 标签。")])]:i("div",[e._v(e._s(e.ele.propsValue.realData))])],2)},l=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"show-qr"},[i("img",{staticClass:"qr-bg",attrs:{src:e.ele.propsValue.realData+"?x-oss-process=video/snapshot,t_200,f_jpg,m_fast,ar_auto"}}),i("vue-qr",{staticClass:"qr-code",attrs:{text:e.ele.propsValue.realData,size:e.qrSize}})],1)},d=[],c=i("d092"),u=i.n(c),h={name:"kid-video-qr",components:{vueQr:u.a},props:["ele"],data:function(){return{}},computed:{qrSize:function(){var e=this.ele.commonStyle||{},t=e.width,i=void 0===t?0:t,a=e.height,s=void 0===a?0:a,n=i<s?i:s;return Math.floor(n/2)}}},p=h,g=(i("b60d"),i("c701")),f=Object(g["a"])(p,r,d,!1,null,"7ac78010",null),v=f.exports,m={name:"kid-video",components:{KidVideoQr:v},props:["ele","preview","pdf"],data:function(){return{videoTypes:["mp4","avi","mov","rmvb","rm","flv","3gp","mpeg","ogg"]}}},y=m,b=Object(g["a"])(y,o,l,!1,null,"722581ed",null),w=b.exports,k={name:"operate",components:{KidVideo:w},props:{element:{required:!0,default:{}},elementIndex:{},editIndex:{default:-1},disabled:{default:!1},display:{default:!1},writePermission:{type:[String,Number]},preview:{type:Boolean,default:!1},pdf:{type:Boolean,default:!1}},data:function(){return{isBounce:!1,pos:{},box:{},font:{},mask:{},imgTypes:["bmp","jpg","jpeg","png","tif","gif","exif","webp"],videoTypes:["mp4","avi","mov","rmvb","rm","flv","3gp","mpeg","ogg"]}},computed:{ele:function(){var e=Object(n["b"])(this.element),t=e.pos,i=e.box,a=e.font,s=e.mask;return this.pos=t,this.box=i,this.font=a,this.mask=s,this.element},show:function(){return this.elementIndex===this.editIndex}},mounted:function(){},watch:{},methods:{evaluate:function(e){this.$emit("save",!0)},singleTap:function(e){if(this.disabled){if(!this.display){var t=1==this.writePermission?"该页由园长填写哦！":2==this.writePermission?"该页由教师填写哦！":"该页由家长填写哦！";this.$toast({message:t,duration:1200})}}else if(0!=this.ele.fillType)if(this.show){if("kid-appraise"==this.ele.elName)return;this.$emit("update:editIndex",-1)}else this.$emit("update:editIndex",this.elementIndex)},pressMove:function(e){"kid-image"!=this.ele.elName&&"kid-video"!=this.ele.elName||2!=this.ele.permission?(this.ele.style.left+=e.deltaX,this.ele.style.top+=e.deltaY):(this.ele.data.style.left+=e.deltaX,this.ele.data.style.top+=e.deltaY),e.preventDefault()},pinch:function(e){var t={x:e.touches[0].pageX-e.touches[1].pageX,y:e.touches[0].pageY-e.touches[1].pageY},i=Math.abs(t.x)/this.getLen(t),a=Math.abs(t.y)/this.getLen(t);"kid-image"!=this.ele.elName&&"kid-video"!=this.ele.elName||2!=this.ele.permission?(this.ele.style.rotate>45&&this.ele.style.rotate<135||this.ele.style.rotate>225&&this.ele.style.rotate<315?(this.ele.style.width+=(e.zoom-1)*a*4,this.ele.style.height+=(e.zoom-1)*i*4):(this.ele.style.width+=(e.zoom-1)*i*4,this.ele.style.height+=(e.zoom-1)*a*4),this.ele.style.width=this.ele.style.width>20?this.ele.style.width:20,this.ele.style.height=this.ele.style.height>20?this.ele.style.height:20,this.ele.data.style.width=this.ele.style.width,this.ele.data.style.height=this.ele.style.height):this.ele.data.style.rotate>45&&this.ele.data.style.rotate<135||this.ele.data.style.rotate>225&&this.ele.data.style.rotate<315?(this.ele.data.style.width+=(e.zoom-1)*a*4,this.ele.data.style.height+=(e.zoom-1)*i*4):(this.ele.data.style.width+=(e.zoom-1)*i*4,this.ele.data.style.height+=(e.zoom-1)*a*4),e.preventDefault()},rotate:function(e){"kid-image"!=this.ele.elName&&"kid-video"!=this.ele.elName||"2"!=this.ele.permission?(this.ele.style.rotate+=e.angle,this.ele.style.rotate=(this.ele.style.rotate+360)%360):(this.ele.data.style.rotate+=e.angle,this.ele.data.style.rotate=(this.ele.data.style.rotate+360)%360),e.preventDefault()},multipointEnd:function(){2!=this.ele.permission||this.isBounce||(this.sizeBounce(),this.posBounce())},getLen:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},deleteEle:function(e){var t=this;this.$dialog.confirm({message:"确认删除"}).then((function(){t.deleteElement(t.elementIndex)})).catch((function(){}))},posBounce:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=this,a=i.ele.data.style.left,s=i.ele.data.style.top,n=0,o=0;if(i.ele.data.style.left>0?n=0-a:i.ele.data.style.left<i.ele.style.width-i.ele.data.style.width&&(n=i.ele.style.width-i.ele.data.style.width-a),i.ele.data.style.top>0?o=0-s:i.ele.data.style.top<i.ele.style.height-i.ele.data.style.height&&(o=i.ele.style.height-i.ele.data.style.height-s),n||o){i.isBounce=!0;var l=setInterval(r,20);return!0}return!1;function r(){e+=1,e==t&&(clearInterval(l),i.isBounce=!1,i.ele.data.style.left=n?a+n:a,i.ele.data.style.top=o?s+o:s),0!=n&&(i.ele.data.style.left=i.bounceOut(e,a,n,t)),0!=o&&(i.ele.data.style.top=i.bounceOut(e,s,o,t))}},sizeBounce:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=this,a=i.ele.data.style.width,s=i.ele.data.style.height,n=0,o=0;if(i.ele.data.style.width<i.ele.style.width&&(n=i.ele.style.width-a),i.ele.data.style.height<i.ele.style.height&&(o=i.ele.style.height-s),n>0||o>0){i.isBounce=!0;var l=setInterval(r,20);return!0}return!1;function r(){e+=1,e==t&&(clearInterval(l),i.isBounce=!1,i.ele.data.style.width=n?a+n:a,i.ele.data.style.height=o?s+o:s),n>0&&(i.ele.data.style.width=i.bounceOut(e,a,n,t)),0!=o&&(i.ele.data.style.height=i.bounceOut(e,s,o,t))}},bounceOut:function(e,t,i,a){return(e/=a)<1/2.75?i*(7.5625*e*e)+t:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t}}},x=k,z=(i("bdd2"),Object(g["a"])(x,a,s,!1,null,"6bc5ad94",null));t["a"]=z.exports}}]);