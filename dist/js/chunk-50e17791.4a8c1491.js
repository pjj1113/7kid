(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50e17791"],{"8abc":function(t,e,o){"use strict";var i,n=o("28f8"),r=o("d722");e["a"]=(i={uploadFile:function(t){return Object(r["b"])("/file/v1/file/upload/binary",t,{headers:{"Content-Type":"multipart/form-data"}})},addVisitant:function(t,e){return Object(r["b"])("/visitor/v1/applicationRecord/applicationAdd",t,{headers:{"Content-Type":"application/json"}},e)},addVisitantTeacher:function(t,e){return Object(r["b"])("/visitor/v1/applicationRecord/TeacherAdd",t,{headers:{"Content-Type":"application/json"}},e)},applicationDetails:function(t){return Object(r["b"])("/visitor/v1/applicationRecord/getById",t)},applicationAgree:function(t){return Object(r["b"])("/visitor/v1/applicationRecord/agree",t)},applicationRefuse:function(t){return Object(r["b"])("/visitor/v1/applicationRecord/refuse",t)},sendSmsCode:function(t){return Object(r["b"])("/message/v1/sms/send-sms-code",t)},verifySmsCodSe:function(t){return Object(r["b"])("/message/v1/sms/verify-sms-code",t)},getSchoolInfo:function(t){return Object(r["b"])("/visitor/v1/applicationRecord/getSchoolInfo",t)},getVisitorTeacherInfo:function(t){return Object(r["b"])("/visitor/v1/applicationRecord/getTeacherInfo",t)},teacherLogin:function(t){return Object(r["b"])("/iam/v1/web-oauth/kid-login/teacher-login",t)},getVisitantDetail:function(t){return Object(r["b"])("/visitor/v1/visitor/record/get-by-id",t)}},Object(n["a"])(i,"applicationRefuse",(function(t){return Object(r["b"])("/visitor/v1/applicationRecord/refuse",t)})),Object(n["a"])(i,"applicationAgree",(function(t){return Object(r["b"])("/visitor/v1/applicationRecord/agree",t)})),Object(n["a"])(i,"delayDate",(function(t){return Object(r["b"])("/visitor/v1/visitor/record/delay-time",t)})),Object(n["a"])(i,"addAccessRecord",(function(t){return Object(r["b"])("/visitor/v1/visitor/record/add-access-record",t)})),Object(n["a"])(i,"visitantGoSchool",(function(t){return Object(r["b"])("/visitor/v1/visitor/record/entry-school",t)})),Object(n["a"])(i,"visitantOutSchool",(function(t){return Object(r["b"])("/visitor/v1/visitor/record/out-school",t)})),Object(n["a"])(i,"qrCodeInfo",(function(t){return Object(r["b"])("/visitor/v1/visitor/record/get-qr-code-info",t)})),Object(n["a"])(i,"verifyQrCode",(function(t){return Object(r["b"])("/visitor/v1/visitor/record/verify-qr-code-info",t)})),Object(n["a"])(i,"cardType",(function(t){return Object(r["b"])("/visitor/v1/option/cardType",t)})),Object(n["a"])(i,"wechatShare",(function(t){return Object(r["b"])("/visitor/v1/visitor/record/get-wechat-share-info",t)})),Object(n["a"])(i,"smsInvite",(function(t){return Object(r["b"])("/visitor/v1/visitor/record/sms-invite",t)})),Object(n["a"])(i,"applicationList",(function(t){return Object(r["b"])("/visitor/v1/applicationRecord/applicationList",t)})),Object(n["a"])(i,"getVisitantList",(function(t){return Object(r["b"])("/visitor/v1/visitor/record/query-list",t,{headers:{"Content-Type":"application/json"}})})),Object(n["a"])(i,"getCheckList",(function(t){return Object(r["b"])("/visitor/v1/applicationRecord/applicationList",t)})),Object(n["a"])(i,"getNoCheckNum",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[30];return Object(r["b"])("/visitor/v1/teacher/msg/unread",t,{headers:{"Content-Type":"application/json"}})})),Object(n["a"])(i,"getYesCheckList",(function(t){return Object(r["b"])("/visitor/v1/applicationRecord/yesApprovalList",t)})),Object(n["a"])(i,"getNoCheckList",(function(t){return Object(r["b"])("/visitor/v1/applicationRecord/noApprovalList",t)})),Object(n["a"])(i,"getCodeConfing",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["b"])("/visitor/v1/application/backgroundConfig",t)})),i)},9467:function(t,e,o){},a5f7:function(t,e,o){"use strict";o("9467")},a7d6:function(t,e,o){"use strict";o("f257")},c173:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"code"},[o("nav-bar",{scopedSlots:t._u([{key:"left",fn:function(){return[o("span")]},proxy:!0}])}),o("div",{staticClass:"main"},[o("div",{staticClass:"content"},[o("h3",[t._v(t._s(t.visitorName))]),o("p",[t._v("请您于"),o("span",[t._v(t._s(t.endTime?t.endTime:""))]),t._v("前抵达幼儿园 "),o("br"),t._v("到园后请向门卫出示此通行证")]),o("vue-qr",{attrs:{text:t.downloadData.url,logoSrc:t.downloadData.icon,logoScale:50,size:300},nativeOn:{click:function(e){t.qrCodeShow=!0}}}),o("div",{staticClass:"footer"},[t._v("有效期："+t._s(t.endday?t.endday:"")+"，仅限本人使用")])],1)]),o("van-overlay",{staticClass:"preview-popup",attrs:{show:t.qrCodeShow},on:{click:function(e){t.qrCodeShow=!1}}},[o("div",{staticClass:"qrcode-block"},[o("vue-qr",{attrs:{text:t.downloadData.url,logoSrc:t.downloadData.icon,logoScale:.23,size:300}})],1)])],1)},n=[],r=(o("445a"),o("402f"),o("836b"),o("da1d")),a=o("d092"),c=o.n(a),s=o("8abc"),d=o("2939"),u=(o("ad2b"),{data:function(){return{downloadData:{url:"",icon:""},endday:"",endTime:"",userInfo:null,imgIcon:"",visitorName:"",qrCodeShow:!1}},components:{vueQr:c.a,navBar:r["a"]},mounted:function(){d["a"].getAppData(),this.userInfo=localStorage.getItem("jsBridgeInfo")&&JSON.parse(localStorage.getItem("jsBridgeInfo"))||"",this.$route.query.id?this.appQrCodeInfo({id:this.$route.query.id}):this.appQrCodeInfo({id:this.userInfo.id})},methods:{appQrCodeInfo:function(t){var e=this;s["a"].qrCodeInfo(t).then((function(t){e.visitorName=t.data.visitorName;var o=new Date(t.data.endTime),i=o.getFullYear().toString(),n=(o.getMonth()+1).toString(),r=o.getDate().toString(),a=o.getHours().toString();e.endday="".concat(i,"年").concat(n,"月").concat(r,"日"),e.endTime="".concat(n,"月").concat(r,"日").concat(a,"时"),e.downloadData.url=JSON.stringify({businessType:1,data:{id:t.data.id,timestamp:t.data.timestamp}}),e.downloadData.icon=t.data.schoolLogoUrl?t.data.schoolLogoUrl+"?cashicon=123":""}))},onClickLeft:function(){this.$router.go(-1),d["a"].closeWebview()}}}),l=u,v=(o("a5f7"),o("c701")),f=Object(v["a"])(l,i,n,!1,null,"fa75ed18",null);e["default"]=f.exports},da1d:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-nav-bar",{attrs:{title:t.t_title,fixed:"",border:t.border}},[t._t("left",[o("van-icon",{staticClass:"nav-go",attrs:{name:"arrow-left"},on:{click:t.onClickLeft}})],{slot:"left"}),t._t("title",null,{slot:"title"}),t._t("right",null,{slot:"right"})],2)},n=[],r=o("2939"),a={computed:{t_title:function(){return this.title?this.title:/.*[\u4e00-\u9fa5]+.*$/.test(this.$route.meta.title)?this.$route.meta.title:this.$t("route.".concat(this.$route.meta.title))}},props:{border:{type:Boolean,default:!0},onlyBack:{type:Boolean,default:!1},title:{type:String}},methods:{onClickLeft:function(){this.onlyBack||r["a"].closeWebview(),this.$router.go(-1)}}},c=a,s=(o("a7d6"),o("c701")),d=Object(s["a"])(c,i,n,!1,null,"2f4d49ad",null);e["a"]=d.exports},f257:function(t,e,o){}}]);