(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f4e771d"],{2512:function(t,e,a){"use strict";a("5658")},3188:function(t,e,a){},"4e7b":function(t,e,a){},5658:function(t,e,a){},"84ac":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"date-step"},[a("span",{staticClass:"icon-block left-icon",on:{click:t.onLeftTimeClick}},[a("van-icon",{attrs:{name:"arrow-left"}})],1),a("span",{staticClass:"date"},[t._v(t._s(t.vDateString))]),a("span",{staticClass:"icon-block right-icon",on:{click:t.onRightTimeClick}},[a("van-icon",{directives:[{name:"show",rawName:"v-show",value:t.rightDateShow,expression:"rightDateShow"}],attrs:{name:"arrow"}})],1)])},i=[],c=(a("d0bf"),a("ad2b")),o={props:{date:{required:!0,type:[String,Number],default:(new Date).valueOf()}},data:function(){return{}},computed:{vDate:{get:function(){return new Date(Number(this.date)||"").valueOf()},set:function(t){this.$emit("update:date",t),this.$emit("step",{timeStamp:t,tiemString:this.vDateString})}},vDateString:function(){return Object(c["a"])(this.vDate,"{y}-{m}-{d}")},rightDateShow:function(){return new Date(this.vDateString).valueOf()+864e5<(new Date).valueOf()}},methods:{onLeftTimeClick:function(){this.vDate=this.dateStep(this.vDate,-1)},onRightTimeClick:function(){this.vDate=this.dateStep(this.vDate,1)},dateStep:function(t,e){return parseInt(t)+864e5*e}}},s=o,r=(a("9f96"),a("c701")),d=Object(r["a"])(s,n,i,!1,null,"7a2ea40a",null);e["a"]=d.exports},8847:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("van-row",{staticClass:"card-header"},[a("van-col",{attrs:{span:"16"}},[a("div",{staticClass:"card-title",on:{click:function(e){return e.stopPropagation(),t.$emit("titleClick",{areaType:t.stat.areaType})}}},[a("span",[t._v(t._s(t.stat.title||t.$t("wristband.realTimeStatistics")))])])]),a("van-col",{attrs:{span:"8"}},[a("div",{staticClass:"card-subtitle"},[t._v(t._s(t.stat.subTitle))])])],1),a("div",{staticClass:"card-body"},[a("div",{staticClass:"num"},[t._v(t._s(t.stat.allJoinUserNum))]),a("div",{staticClass:"num-descr"},[t._v(t._s(t.stat.joinDescr||(t.today&&1!=t.stat.areaType?t.$t("wristband.currentNumberOfParticipants"):t.$t("wristband.cumulativeNumberOfParticipants"))))])]),t.areaList&&t.areaList.length?[a("van-divider"),a("van-row",{staticClass:"card-foot"},t._l(t.areaList,(function(e,n){return a("van-col",{attrs:{span:"8"},on:{click:function(a){return t.showArea(e)}}},[a("div",{staticClass:"num"},[t._v(t._s(e.joinUserNum)),t.summary?t._e():a("van-icon",{attrs:{name:"arrow",size:"10"}})],1),a("div",{staticClass:"num-descr"},[t._v(t._s(e.areaName))])])})),1)]:t._e()],2)},i=[],c=a("d211"),o={props:{stat:{type:Object},summary:{type:Boolean,default:!1},today:{type:Boolean,default:!0}},data:function(){return{}},computed:{areaList:function(){return this.today&&1!=this.stat.areaType?this.stat.areaInfoVOList:this.stat.areaItemVOList}},mounted:function(){},methods:{showArea:function(t){this.summmay||this.$emit("showArea",Object(c["a"])(Object(c["a"])({},t),{},{areaType:this.stat.areaType}))}}},s=o,r=(a("9bfc"),a("c701")),d=Object(r["a"])(s,n,i,!1,null,"088050f8",null);e["a"]=d.exports},"9bfc":function(t,e,a){"use strict";a("4e7b")},"9f96":function(t,e,a){"use strict";a("3188")},a4fb:function(t,e,a){"use strict";a("445a");var n,i=a("28f8"),c=a("d722");e["a"]=(n={schoolSpaceList:function(t){return Object(c["b"])("/attendance/v1/schoolSpace/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},selectById:function(t){return Object(c["b"])("/attendance/v1/schoolArea/selectById",t)},schoolAreaList:function(t){return Object(c["b"])("/attendance/v1/schoolArea/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolAreaDelete:function(t){return Object(c["b"])("/attendance/v1/schoolArea/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolSpaceById:function(t){return Object(c["b"])("/attendance/v1/schoolSpace/selectById",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionSelectById:function(t){return Object(c["b"])("/attendance/v1/schoolPosition/selectById",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionInsert:function(t){return Object(c["b"])("/attendance/v1/schoolPosition/insert",t,{headers:{"Content-Type":"application/json"}})},getGardenClassList:function(t){return Object(c["b"])("/kid-arch/v1/teacher/clazz/teacher/grade-clazz-option",t)},clazzStatistical:function(t){var e="/attendance/v1/bandBind/clazzStatistical";return Object(c["b"])(e,t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},classStatisticalDetail:function(t){return Object(c["b"])("/attendance/v1/bandBind/clazzStatisticalDetail",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},bingdingSearch:function(t){return Object(c["b"])("/attendance/v1/bandBind/condition",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},bingdingWristband:function(t){return Object(c["b"])("/attendance/v1/bandBind/addStudent",t,{headers:{"Content-Type":"application/json"}})},unbindingWristband:function(t){return Object(c["b"])("/attendance/v1/bandBind/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolSpaceDelete:function(t){return Object(c["b"])("/attendance/v1/schoolSpace/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionDelete:function(t){return Object(c["b"])("/attendance/v1/schoolPosition/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolSpaceUpdate:function(t){return Object(c["b"])("/attendance/v1/schoolSpace/update",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionUpdate:function(t){return Object(c["b"])("/attendance/v1/schoolPosition/update",t,{headers:{"Content-Type":"application/json"}})},schoolSpaceSave:function(t){return Object(c["b"])("/attendance/v1/schoolSpace/insert",t,{headers:{"Content-Type":"application/json"}})},schoolPositionDeviceList:function(t){return Object(c["b"])("/attendance/v1/schoolPosition/deviceList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolAreaInsert:function(t){return Object(c["b"])("/attendance/v1/schoolArea/insert",t,{headers:{"Content-Type":" application/json"}})},schoolAreaUpdate:function(t){return Object(c["b"])("/attendance/v1/schoolArea/update",t,{headers:{"Content-Type":"application/json"}})},availablePosition:function(t){return Object(c["b"])("/attendance/v1/schoolPosition/availablePosition",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPositionParticipationStatistics:function(t){return Object(c["b"])("/attendance/v1/areaStatistic/dayArea",t)},getCornerManagerList:function(t){return Object(c["b"])("/attendance/v1/schoolPosition/deviceList",t)},updateBeacon:function(t){return Object(c["b"])("/attendance/v1/schoolPosition/updateDeviceName",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},bindBeacon:function(t){return Object(c["b"])("/attendance/v1/schoolPosition/bindDevice",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},unBindBeacon:function(t){return Object(c["b"])("/attendance/v1/schoolPosition/unbindDevice",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}},Object(i["a"])(n,"getPositionParticipationStatistics",(function(t){return Object(c["b"])("/attendance/v1/areaStatistic/dayArea",t)})),Object(i["a"])(n,"getAreaParticipationStatistics",(function(t){return Object(c["b"])("/attendance/v1/areaStatistic/dayAreaType",t)})),Object(i["a"])(n,"getClazzParticipationStatistics",(function(t){return Object(c["b"])("/attendance/v1/areaStatistic/dayAreaTypeDetail",t)})),Object(i["a"])(n,"getGradenParticipationStatistics",(function(t){return Object(c["b"])("/attendance/v1/areaStatistic/dayClazz",t)})),Object(i["a"])(n,"dayUserAreaTotal",(function(t){return Object(c["b"])("/attendance/v1/areaStatistic/dayUserArea",t)})),Object(i["a"])(n,"dayUserAreaDetail",(function(t){return Object(c["b"])("/attendance/v1/areaStatistic/dayUserDetail?date=".concat(t.date,"&userId=").concat(t.userId),"",{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getSleepDayTotalStatic",(function(t){return Object(c["b"])("/attendance/v1/sleepStatic/dayTotalStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getSleepCurrentTimeStatic",(function(t){return Object(c["b"])("/attendance/v1/sleepStatic/currentTimeStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getAllClazzSleepInfoStatic",(function(t){return Object(c["b"])("/attendance/v1/sleepStatic/getClazzInfoStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getUserSleepInfoByClazzId",(function(t){return Object(c["b"])("/attendance/v1/sleepStatic/getUserInfoByClazzId",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getTimePeriodSleepStatic",(function(t){return Object(c["b"])("/attendance/v1/sleepStatic/currentTimeStaticList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getClazzCurrentTimeSleepStaticList",(function(t){return Object(c["b"])("/attendance/v1/sleepStatic/clazzCurrentTimeStaticList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getClazzHistoryStaticList",(function(t){return Object(c["b"])("/attendance/v1/sleepStatic/clazzHistoryStaticList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getClazzChildSleepStaticList",(function(t){return Object(c["b"])("/attendance/v1/sleepStatic/clazzChildSleepStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getStudentSleepDayStatistics",(function(t){return Object(c["b"])("/attendance/v1/sleepStatic/userBaseInfoStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"checkDayIsHoliday",(function(t){return Object(c["b"])("/kid-arch/v1/teacher/holiday/getTypeByDay",t,{headers:{"Content-Type":"application/json"}})})),n)},a7d6:function(t,e,a){"use strict";a("f257")},b0ba:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"statistics"},[a("nav-bar",{attrs:{onlyBack:!0,border:!1},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.$t("wristband.classAreaParticipationStatistics"))+"-全园")]},proxy:!0}])}),a("div",{staticStyle:{position:"fixed","z-index":"100",top:"46px",width:"100%"}},[a("date-step",{attrs:{date:t.date},on:{"update:date":function(e){t.date=e}}})],1),a("div",{staticClass:"content"},[a("stat-card",{attrs:{stat:t.statistics.info,summary:!0}}),t._l(t.statistics.gradeBandAreaVOList,(function(e){return a("div",[a("div",{staticClass:"grade-name"},[t._v(t._s(e.gradeName))]),t._l(e.classBandAreaVOList,(function(e){return a("div",{staticClass:"clazz-card",on:{click:function(a){return t.$router.push({path:"area",query:{date:t.date,clazzId:e.classId,clazzName:e.className,areaType:1}})}}},[a("van-row",{staticClass:"card-header"},[a("van-col",{attrs:{span:"16"}},[a("div",{staticClass:"card-title"},[t._v(t._s(e.className))])]),a("van-col",{attrs:{span:"8"}},[a("div",{staticClass:"card-subtitle"},[t._v(">")])])],1),a("van-divider"),a("van-row",{staticClass:"card-body"},[a("van-col",{staticClass:"text-left",attrs:{span:"9"}},[t._v("参与人数")]),a("van-col",{attrs:{span:"3"}},[t._v(t._s(e.joinUserNum))]),a("van-col",{staticClass:"text-left",attrs:{span:"9"}},[t._v("参与人次")]),a("van-col",{attrs:{span:"3"}},[t._v(t._s(e.joinTimes))])],1)],1)}))],2)}))],2)],1)},i=[],c=(a("1d7a"),a("2939")),o=a("da1d"),s=a("84ac"),r=a("8847"),d=a("a4fb"),l=a("ad2b"),u={name:"wristband-statistics-garden",components:{NavBar:o["a"],DateStep:s["a"],statCard:r["a"]},data:function(){return{appData:c["a"].getAppData(),date:this.$route.query.date||(new Date).valueOf(),today:Object(l["a"])((new Date).valueOf(),"{y}-{m}-{d}"),statistics:{info:{},gradeBandAreaVOList:[]}}},computed:{dateString:function(){return Object(l["a"])(this.date,"{y}-{m}-{d}")}},watch:{date:function(t){this.getStatistics()}},beforeRouteEnter:function(t,e,a){t.meta.keepAlive||(t.meta.keepAlive=!0,t=Object.assign({},t)),a()},beforeRouteLeave:function(t,e,a){"wristband-statistics-area"!=t.name&&(e.meta.keepAlive=!1,e=Object.assign({},e)),a()},mounted:function(){this.getStatistics()},methods:{getStatistics:function(){var t=this;d["a"].getGradenParticipationStatistics({date:this.dateString}).then((function(e){t.statistics=e.data,t.statistics.info={title:"每日统计",allJoinUserNum:e.data.allJoinUserNum,joinDescr:"累计参与人数"}}))}}},p=u,f=(a("2512"),a("c701")),b=Object(f["a"])(p,n,i,!1,null,"d4a92348",null);e["default"]=b.exports},da1d:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-nav-bar",{attrs:{title:t.t_title,fixed:"",border:t.border}},[t._t("left",[a("van-icon",{staticClass:"nav-go",attrs:{name:"arrow-left"},on:{click:t.onClickLeft}})],{slot:"left"}),t._t("title",null,{slot:"title"}),t._t("right",null,{slot:"right"})],2)},i=[],c=a("2939"),o={computed:{t_title:function(){return this.title?this.title:/.*[\u4e00-\u9fa5]+.*$/.test(this.$route.meta.title)?this.$route.meta.title:this.$t("route.".concat(this.$route.meta.title))}},props:{border:{type:Boolean,default:!0},onlyBack:{type:Boolean,default:!1},title:{type:String}},methods:{onClickLeft:function(){this.onlyBack||c["a"].closeWebview(),this.$router.go(-1)}}},s=o,r=(a("a7d6"),a("c701")),d=Object(r["a"])(s,n,i,!1,null,"2f4d49ad",null);e["a"]=d.exports},f257:function(t,e,a){}}]);