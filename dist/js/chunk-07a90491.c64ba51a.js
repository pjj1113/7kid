(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07a90491"],{"053f":function(t,e,a){},"0db7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"student-total"},[a("nav-bar",{attrs:{onlyBack:!0,border:!1}}),a("div",{staticClass:"student-info"},[a("div",{staticClass:"student-info-content"},[a("img",{attrs:{src:t.areaInfo.fileResourceDTO?t.areaInfo.fileResourceDTO.url:t.userLogo}}),a("span",[a("i",[t._v(t._s(t.areaInfo&&t.areaInfo.userName))]),a("b",[t._v(t._s(t.clazzName))])])]),a("div",[t._v(t._s(t.parseTime(t.date,"{y}-{m}-{d}")+" "+t.weeKComp))])]),a("calendar",{attrs:{initDate:t.parseTime(t.date,"{y}-{m}-{d}")},on:{getDate:t.getDate}}),a("div",{staticClass:"main"},[a("van-tabs",{staticStyle:{height:"100%"},attrs:{background:"#F9F9FA",sticky:!0,"offset-top":"46","line-width":"30px","title-active-color":"#48D4C6"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("van-tab",{attrs:{title:t.$t("wristband.classArea"),name:"1"}},[1==t.activeName?a("detail",{attrs:{date:t.date,areaInfo:t.areaInfo,activeName:1}}):t._e()],1),a("van-tab",{attrs:{title:t.$t("wristband.commonArea"),name:"2"}},[2==t.activeName?a("detail",{attrs:{date:t.date,areaInfo:t.areaInfo,activeName:2}}):t._e()],1),a("van-tab",{attrs:{title:t.$t("wristband.outSideArea"),name:"3"}},[3==t.activeName?a("detail",{attrs:{date:t.date,areaInfo:t.areaInfo,activeName:3}}):t._e()],1)],1)],1)],1)},i=[],o=a("b3b4"),c=a("da1d"),r=a("ad2b"),s=a("a4fb"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wbn-detail"},[a("bar-card",{attrs:{stat:t.areaInfo}}),null!=t.dayUserAreaList&&0!=t.dayUserAreaList.length?a("div",{staticClass:"corner-info"},[a("ul",[a("van-list",{attrs:{"immediate-check":!1,finished:t.finished,"finished-text":this.$t("wristband.noMoreTip")},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.dayUserAreaList,(function(e,n){return a("li",{key:n},[a("b",[t._v(t._s(e.areaName))]),a("div",{staticClass:"active-info"},[a("span",{staticClass:"active-info-icon",class:{active_info_icon_line:n>0}},[a("i",{staticClass:"active_info_icon_onse",class:{active_info_icon_second:e.areaType-1==1,active_info_icon_third:e.areaType-1==2}},[a("b")])]),a("span",{staticClass:"active-info-detail"},[a("strong",[t._v(t._s(e.desc))]),t._v(" "),a("i",[t._v(t._s(t.activeArea[e.areaType-1]))])])])])})),0)],1)]):t._e()],1)},l=[],u=a("7774"),h={props:{activeName:{},date:{default:function(){return Object(r["a"])(new Date)}},areaInfo:{required:!0,default:function(){return{userAreaDetailVOList:[]}}}},data:function(){return{activeArea:[this.$t("wristband.classArea"),this.$t("wristband.commonArea"),this.$t("wristband.outSideArea")],dayUserAreaList:[],loading:!1,finished:!1,pageParam:{pageNum:1,pageSize:10}}},watch:{date:function(t){this.pageParam.pageNum=0,this.dayUserAreaList=[],this.dayUserAreaDetail()}},components:{BarCard:u["a"]},computed:{dateInfo:{get:function(){return this.date},set:function(t){this.dayUserAreaDetail()}}},mounted:function(){this.dayUserAreaDetail()},methods:{parseTime:r["a"],dayUserAreaDetail:function(){var t=this;s["a"].dayUserAreaDetail({date:this.dateInfo,userId:this.$route.query.userId}).then((function(e){t.dayUserAreaList=e.data.list,t.loading=!1,t.finished=!0})).catch((function(e){t.loading=!1,t.finished=!0}))},onLoad:function(){this.dayUserAreaDetail()}}},p=h,f=(a("9bc2"),a("c701")),b=Object(f["a"])(p,d,l,!1,null,"12dbde67",null),m=b.exports,w=a("2939"),v={data:function(){var t=this.$route.query,e=t.areaType,n=(t.clazzId,t.clazzName),i=t.userId,o=(t.userName,t.userAvatar),c=t.date;return{appData:w["a"].getAppData(),userId:i,clazzName:n,activeName:e||1,userLogo:o||a("5795"),areaInfo:{},statistics:{},date:Object(r["a"])(c||new Date,"{y}-{m}-{d}")}},components:{NavBar:c["a"],calendar:o["a"],detail:m},watch:{activeName:function(t){this.dayUserAreaTotal()},date:function(t){this.dayUserAreaTotal()}},computed:{weeKComp:function(){var t=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],e=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];return"English"==this.appData.lang?e[new Date(this.date).getDay()]:t[new Date(this.date).getDay()]}},mounted:function(){this.dayUserAreaTotal()},methods:{parseTime:r["a"],dayUserAreaTotal:function(t){var e=this;s["a"].dayUserAreaTotal({date:this.date,userId:this.userId,areaType:this.activeName}).then((function(t){e.areaInfo=t.data,e.areaInfo.title=1==e.activeName?e.$t("wristband.classArea"):2==e.activeName?e.$t("wristband.commonArea"):e.$t("wristband.outSideArea"),e.areaInfo.subTitle=e.$t("wristband.participationStatisticsNumber")+":"+(t.data.times&&t.data.times||0),e.$set(e.areaInfo,"areaItemVOList",e.areaInfo.areaInfoVOList)})).catch((function(t){}))},getDate:function(t){this.date=Object(r["a"])(t,"{y}-{m}-{d}")}}},y=v,g=(a("a904"),Object(f["a"])(y,n,i,!1,null,null,null));e["default"]=g.exports},"2ebf":function(t,e,a){},"3ef2":function(t,e,a){},5048:function(t,e,a){"use strict";a("fa40")},"52c4":function(t,e,a){t.exports=a.p+"img/empty_page_icon.e43b2826.png"},5795:function(t,e,a){t.exports=a.p+"img/avatar_boy.058f0cac.png"},7774:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("van-row",{staticClass:"card-header"},[n("van-col",{attrs:{span:"12"}},[n("div",{staticClass:"card-title"},[n("span",[t._v(t._s(t.stat.title))])])]),n("van-col",{attrs:{span:"12"}},[n("div",{staticClass:"card-subtitle"},[t._v(t._s(t.stat.subTitle))])])],1),n("div",{staticClass:"card-body"},[t.stat.areaItemVOList&&t.stat.areaItemVOList.length?n("v-chart",{ref:"chart",style:{width:"100%",height:t.height+"px",maxHeight:t.height+"px",overflow:"hidden"},attrs:{initOptions:t.initOptions,options:t.chartOption}}):n("van-empty",{attrs:{description:t.$t("common.noData")}},[n("template",{slot:"image"},[n("img",{staticStyle:{height:"auto"},attrs:{src:a("52c4")}})])],2)],1)],1)},i=[],o=(a("72b3"),a("d0bf"),a("402f"),a("836b"),a("270f"),a("2a50")),c=(a("8a7b"),a("f035"),a("6722"),{props:{stat:{type:Object},dimension:{type:String,default:"joinUserNum"},color:{type:Array,default:function(){return["#39D8F0","#46BFFF"]}}},components:{"v-chart":o["a"]},data:function(){return{height:200,initOptions:{renderer:"svg"}}},watch:{height:function(t){this.$refs.chart.resize({height:t+"px"})}},computed:{chartOption:function(){var t=this;this.height=this.stat.areaItemVOList?50*this.stat.areaItemVOList.length:200;var e=1,a=[],n=[];return this.stat.areaItemVOList&&this.stat.areaItemVOList.forEach((function(i){a.push(i.areaName),n.push(i[t.dimension]),e=e>Number(i[t.dimension])?e:Number(i[t.dimension])})),{grid:{left:"0",right:15*e.toString().length+"px",top:"0",bottom:"0",containLabel:!0},yAxis:{type:"category",data:a,width:"20px",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#999",formatter:function(t){return t.length>6?t.substring(0,5)+"…":t}}},xAxis:{type:"value",show:!1},series:{type:"bar",barWidth:"27px",label:{show:!0,position:"right"},itemStyle:{color:new o["a"].graphic.LinearGradient(0,0,1,0,[{offset:0,color:this.color[0]},{offset:1,color:this.color[1]}]),barBorderRadius:[0,13,13,0]},data:n}}}},mounted:function(){},methods:{}}),r=c,s=(a("b960"),a("c701")),d=Object(s["a"])(r,n,i,!1,null,"e188d612",null);e["a"]=d.exports},"9bc2":function(t,e,a){"use strict";a("2ebf")},a4fb:function(t,e,a){"use strict";a("445a");var n,i=a("28f8"),o=a("d722");e["a"]=(n={schoolSpaceList:function(t){return Object(o["b"])("/attendance/v1/schoolSpace/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},selectById:function(t){return Object(o["b"])("/attendance/v1/schoolArea/selectById",t)},schoolAreaList:function(t){return Object(o["b"])("/attendance/v1/schoolArea/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolAreaDelete:function(t){return Object(o["b"])("/attendance/v1/schoolArea/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolSpaceById:function(t){return Object(o["b"])("/attendance/v1/schoolSpace/selectById",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionSelectById:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/selectById",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionInsert:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/insert",t,{headers:{"Content-Type":"application/json"}})},getGardenClassList:function(t){return Object(o["b"])("/kid-arch/v1/teacher/clazz/teacher/grade-clazz-option",t)},clazzStatistical:function(t){var e="/attendance/v1/bandBind/clazzStatistical";return Object(o["b"])(e,t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},classStatisticalDetail:function(t){return Object(o["b"])("/attendance/v1/bandBind/clazzStatisticalDetail",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},bingdingSearch:function(t){return Object(o["b"])("/attendance/v1/bandBind/condition",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},bingdingWristband:function(t){return Object(o["b"])("/attendance/v1/bandBind/addStudent",t,{headers:{"Content-Type":"application/json"}})},unbindingWristband:function(t){return Object(o["b"])("/attendance/v1/bandBind/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolSpaceDelete:function(t){return Object(o["b"])("/attendance/v1/schoolSpace/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionDelete:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolSpaceUpdate:function(t){return Object(o["b"])("/attendance/v1/schoolSpace/update",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionUpdate:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/update",t,{headers:{"Content-Type":"application/json"}})},schoolSpaceSave:function(t){return Object(o["b"])("/attendance/v1/schoolSpace/insert",t,{headers:{"Content-Type":"application/json"}})},schoolPositionDeviceList:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/deviceList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolAreaInsert:function(t){return Object(o["b"])("/attendance/v1/schoolArea/insert",t,{headers:{"Content-Type":" application/json"}})},schoolAreaUpdate:function(t){return Object(o["b"])("/attendance/v1/schoolArea/update",t,{headers:{"Content-Type":"application/json"}})},availablePosition:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/availablePosition",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPositionParticipationStatistics:function(t){return Object(o["b"])("/attendance/v1/areaStatistic/dayArea",t)},getCornerManagerList:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/deviceList",t)},updateBeacon:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/updateDeviceName",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},bindBeacon:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/bindDevice",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},unBindBeacon:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/unbindDevice",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}},Object(i["a"])(n,"getPositionParticipationStatistics",(function(t){return Object(o["b"])("/attendance/v1/areaStatistic/dayArea",t)})),Object(i["a"])(n,"getAreaParticipationStatistics",(function(t){return Object(o["b"])("/attendance/v1/areaStatistic/dayAreaType",t)})),Object(i["a"])(n,"getClazzParticipationStatistics",(function(t){return Object(o["b"])("/attendance/v1/areaStatistic/dayAreaTypeDetail",t)})),Object(i["a"])(n,"getGradenParticipationStatistics",(function(t){return Object(o["b"])("/attendance/v1/areaStatistic/dayClazz",t)})),Object(i["a"])(n,"dayUserAreaTotal",(function(t){return Object(o["b"])("/attendance/v1/areaStatistic/dayUserArea",t)})),Object(i["a"])(n,"dayUserAreaDetail",(function(t){return Object(o["b"])("/attendance/v1/areaStatistic/dayUserDetail?date=".concat(t.date,"&userId=").concat(t.userId),"",{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getSleepDayTotalStatic",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/dayTotalStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getSleepCurrentTimeStatic",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/currentTimeStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getAllClazzSleepInfoStatic",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/getClazzInfoStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getUserSleepInfoByClazzId",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/getUserInfoByClazzId",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getTimePeriodSleepStatic",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/currentTimeStaticList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getClazzCurrentTimeSleepStaticList",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/clazzCurrentTimeStaticList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getClazzHistoryStaticList",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/clazzHistoryStaticList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getClazzChildSleepStaticList",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/clazzChildSleepStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getStudentSleepDayStatistics",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/userBaseInfoStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"checkDayIsHoliday",(function(t){return Object(o["b"])("/kid-arch/v1/teacher/holiday/getTypeByDay",t,{headers:{"Content-Type":"application/json"}})})),n)},a904:function(t,e,a){"use strict";a("053f")},b3b4:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weekCalendar"},[t.calendarFlag?t._e():a("div",{staticClass:"week"},t._l(t.week,(function(e,n){return a("span",{key:n,staticClass:"week-font"},[t._v(t._s(e))])})),0),t.calendarFlag?t._e():a("div",{staticClass:"week"},t._l(t.dates,(function(e,n){return a("span",{key:n,class:{weekActive:e==t.date},on:{click:function(a){return t.catDate(e)}}},[t._v(t._s(e))])})),0),a("div",{staticClass:"pull-down"},[t.calendarFlag?t._e():a("van-icon",{attrs:{name:"arrow-down"},on:{click:t.unfoldCalendar}})],1),t.calendarFlag?a("div",{staticClass:"calendar",on:{touchmove:function(e){return e.stopPropagation(),t.touchmove(e)}}},[t.calendarFlag?a("van-calendar",{style:{height:"500px"},attrs:{"min-date":t.minDate,poppable:!1,"show-confirm":!1,"show-title":!1,"show-subtitle":!1,"lazy-render":!1,"default-date":new Date(t.newDate)},on:{confirm:t.onConfirm}},[a("template",{slot:"footer"},[a("div",{staticClass:"time-footer",on:{click:function(e){t.calendarFlag=!1}}},[a("van-icon",{attrs:{name:"arrow-up"}})],1)])],2):t._e()],1):t._e()])},i=[],o=(a("445a"),a("b131"),a("402f"),a("836b"),a("2939")),c=a("ad2b"),r={props:["initDate"],data:function(){return{appData:o["a"].getAppData(),dates:[],date:"",month:"",year:"",getWeekNum:"",newDate:"",show:"",calendarFlag:!1}},watch:{newDate:function(t){t&&(this.$emit("getDate",t),this.catDate())}},computed:{minDate:function(){return new Date("2020-01-01")},week:function(){var t=["一","二","三","四","五","六","日"],e=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"];return"English"==this.appData.lang?e:t}},mounted:function(){this.newDate=this.initDate},methods:{onConfirm:function(t){this.newDate=Object(c["a"])(t,"{y}-{m}-{d}")},touchmove:function(t){},unfoldCalendar:function(){this.calendarFlag=!this.calendarFlag},catDate:function(t){t&&("0"==t.toString().slice(0,1)&&this.date.toString().length>1&&(this.month=this.month+1,this.month>12&&(this.year=this.year+1,this.month=1)),"0"!=t.toString().slice(0,1)&&1==this.date.toString().length&&(this.month=this.month-1,0==this.month&&(this.year=this.year-1,this.month=12)),this.newDate="".concat(this.year,"-").concat(this.month<10&&"0"+this.month||this.month,"-").concat(t)),this.dates=this.setDate(new Date(this.newDate)),this.date=new Date(this.newDate).getDate(),this.getWeek(new Date(this.newDate)),this.month=new Date(this.newDate).getMonth()+1,this.year=new Date(this.newDate).getFullYear()},getWeek:function(t){var e=parseInt(t.getDate()/7)+1;switch(e){case 1:this.getWeekNum="第一周";break;case 2:this.getWeekNum="第二周";break;case 3:this.getWeekNum="第三周";break;case 4:this.getWeekNum="第四周";break;case 5:this.getWeekNum="第五周";break}},setDate:function(t){for(var e=[],a=i(t),n=0;n<7;n++)e.push(c(o(a,n)));return e;function i(t){var e=t.getDay(),a=e?e-1:6;return t.setDate(t.getDate()-a),t}function o(t,e){var a=new Date(t);return a.setDate(a.getDate()+e),a}function c(t){var e=t.getDate();return e=e<10?"0"+e:e,e}}}},s=r,d=(a("5048"),a("c701")),l=Object(d["a"])(s,n,i,!1,null,null,null);e["a"]=l.exports},b960:function(t,e,a){"use strict";a("3ef2")},fa40:function(t,e,a){}}]);