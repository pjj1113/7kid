(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0450c01c"],{"2bdb":function(t,e,a){"use strict";a("a9a3")},"52c4":function(t,e,a){t.exports=a.p+"img/empty_page_icon.e43b2826.png"},a4fb:function(t,e,a){"use strict";a("445a");var n,i=a("28f8"),o=a("d722");e["a"]=(n={schoolSpaceList:function(t){return Object(o["b"])("/attendance/v1/schoolSpace/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},selectById:function(t){return Object(o["b"])("/attendance/v1/schoolArea/selectById",t)},schoolAreaList:function(t){return Object(o["b"])("/attendance/v1/schoolArea/list",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolAreaDelete:function(t){return Object(o["b"])("/attendance/v1/schoolArea/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolSpaceById:function(t){return Object(o["b"])("/attendance/v1/schoolSpace/selectById",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionSelectById:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/selectById",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionInsert:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/insert",t,{headers:{"Content-Type":"application/json"}})},getGardenClassList:function(t){return Object(o["b"])("/kid-arch/v1/teacher/clazz/teacher/grade-clazz-option",t)},clazzStatistical:function(t){var e="/attendance/v1/bandBind/clazzStatistical";return Object(o["b"])(e,t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},classStatisticalDetail:function(t){return Object(o["b"])("/attendance/v1/bandBind/clazzStatisticalDetail",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},bingdingSearch:function(t){return Object(o["b"])("/attendance/v1/bandBind/condition",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},bingdingWristband:function(t){return Object(o["b"])("/attendance/v1/bandBind/addStudent",t,{headers:{"Content-Type":"application/json"}})},unbindingWristband:function(t){return Object(o["b"])("/attendance/v1/bandBind/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolSpaceDelete:function(t){return Object(o["b"])("/attendance/v1/schoolSpace/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionDelete:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolSpaceUpdate:function(t){return Object(o["b"])("/attendance/v1/schoolSpace/update",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolPositionUpdate:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/update",t,{headers:{"Content-Type":"application/json"}})},schoolSpaceSave:function(t){return Object(o["b"])("/attendance/v1/schoolSpace/insert",t,{headers:{"Content-Type":"application/json"}})},schoolPositionDeviceList:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/deviceList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},schoolAreaInsert:function(t){return Object(o["b"])("/attendance/v1/schoolArea/insert",t,{headers:{"Content-Type":" application/json"}})},schoolAreaUpdate:function(t){return Object(o["b"])("/attendance/v1/schoolArea/update",t,{headers:{"Content-Type":"application/json"}})},availablePosition:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/availablePosition",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getPositionParticipationStatistics:function(t){return Object(o["b"])("/attendance/v1/areaStatistic/dayArea",t)},getCornerManagerList:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/deviceList",t)},updateBeacon:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/updateDeviceName",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},bindBeacon:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/bindDevice",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},unBindBeacon:function(t){return Object(o["b"])("/attendance/v1/schoolPosition/unbindDevice",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}},Object(i["a"])(n,"getPositionParticipationStatistics",(function(t){return Object(o["b"])("/attendance/v1/areaStatistic/dayArea",t)})),Object(i["a"])(n,"getAreaParticipationStatistics",(function(t){return Object(o["b"])("/attendance/v1/areaStatistic/dayAreaType",t)})),Object(i["a"])(n,"getClazzParticipationStatistics",(function(t){return Object(o["b"])("/attendance/v1/areaStatistic/dayAreaTypeDetail",t)})),Object(i["a"])(n,"getGradenParticipationStatistics",(function(t){return Object(o["b"])("/attendance/v1/areaStatistic/dayClazz",t)})),Object(i["a"])(n,"dayUserAreaTotal",(function(t){return Object(o["b"])("/attendance/v1/areaStatistic/dayUserArea",t)})),Object(i["a"])(n,"dayUserAreaDetail",(function(t){return Object(o["b"])("/attendance/v1/areaStatistic/dayUserDetail?date=".concat(t.date,"&userId=").concat(t.userId),"",{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getSleepDayTotalStatic",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/dayTotalStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getSleepCurrentTimeStatic",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/currentTimeStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getAllClazzSleepInfoStatic",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/getClazzInfoStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getUserSleepInfoByClazzId",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/getUserInfoByClazzId",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getTimePeriodSleepStatic",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/currentTimeStaticList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getClazzCurrentTimeSleepStaticList",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/clazzCurrentTimeStaticList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getClazzHistoryStaticList",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/clazzHistoryStaticList",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getClazzChildSleepStaticList",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/clazzChildSleepStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"getStudentSleepDayStatistics",(function(t){return Object(o["b"])("/attendance/v1/sleepStatic/userBaseInfoStatic",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})),Object(i["a"])(n,"checkDayIsHoliday",(function(t){return Object(o["b"])("/kid-arch/v1/teacher/holiday/getTypeByDay",t,{headers:{"Content-Type":"application/json"}})})),n)},a7d6:function(t,e,a){"use strict";a("f257")},a9a3:function(t,e,a){},cca2:function(t,e,a){"use strict";var n=a("a09b"),i=a("7866"),o=a("ec87"),c=a("f8b2"),s=[].join,r=i!=Object,l=c("join",",");n({target:"Array",proto:!0,forced:r||!l},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},da1d:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-nav-bar",{attrs:{title:t.t_title,fixed:"",border:t.border}},[t._t("left",[a("van-icon",{staticClass:"nav-go",attrs:{name:"arrow-left"},on:{click:t.onClickLeft}})],{slot:"left"}),t._t("title",null,{slot:"title"}),t._t("right",null,{slot:"right"})],2)},i=[],o=a("2939"),c={computed:{t_title:function(){return this.title?this.title:/.*[\u4e00-\u9fa5]+.*$/.test(this.$route.meta.title)?this.$route.meta.title:this.$t("route.".concat(this.$route.meta.title))}},props:{border:{type:Boolean,default:!0},onlyBack:{type:Boolean,default:!1},title:{type:String}},methods:{onClickLeft:function(){this.onlyBack||o["a"].closeWebview(),this.$router.go(-1)}}},s=c,r=(a("a7d6"),a("c701")),l=Object(r["a"])(s,n,i,!1,null,"2f4d49ad",null);e["a"]=l.exports},e97c:function(t,e,a){"use strict";a.r(e);var n,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"group"},[n("nav-bar",{attrs:{onlyBack:!0,title:t.$t("wristband.equipmentManage")}}),n("van-tabs",{staticClass:"list",attrs:{swipeable:!1,color:"#79DABD"},on:{click:t.selectTab},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabList,(function(t,e){return n("van-tab",{key:e,staticClass:"list_tab",attrs:{title:t,background:"#79DABD"}})})),1),n("div",{directives:[{name:"permission",rawName:"v-permission",value:["attendance-teacher-position-device-list"],expression:"['attendance-teacher-position-device-list']"}],staticClass:"content"},[n("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("van-list",{ref:"list",attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("ul",{staticClass:"list-block"},[1==t.deviceType?t._l(t.dataList,(function(e){return n("li",{key:e.mac,staticClass:"list-li",on:{click:function(a){return t.selectItem(e)}}},[n("div",{staticClass:"topInfo"},[n("van-row",[n("van-col",{staticClass:"infoName",attrs:{span:"4",offset:"1"}},[t._v(t._s(t.$t("wristband.equipmentName"))+":")]),n("van-col",{staticClass:"infoDetail",attrs:{span:"8",offset:"0"}},[t._v(t._s(e.deviceName))]),n("van-col",{staticClass:"infoName",attrs:{span:"3",offset:"1"}},[t._v(t._s(t.$t("wristband.type"))+":")]),n("van-col",{staticClass:"infoDetail",attrs:{span:"5",offset:"0"}},[t._v(t._s(e.category))])],1),n("van-row",[n("van-col",{staticClass:"infoName",attrs:{span:"4",offset:"1"}},[t._v(t._s(t.$t("wristband.serialNumber"))+":")]),n("van-col",{staticClass:"infoDetail",attrs:{span:"8",offset:"0"}},[t._v(t._s(e.mac))]),n("van-col",{staticClass:"infoName",attrs:{span:"5",offset:"1"}},[t._v(t._s(t.$t("wristband.threshold"))+":")]),n("van-col",{staticClass:"infoDetail",attrs:{span:"2",offset:"0"}},[t._v(t._s(e.threshold||0))])],1),n("van-row",[n("van-col",{staticClass:"infoName",attrs:{span:"3",offset:"1"}},[t._v(t._s(t.$t("wristband.model"))+":")]),n("van-col",{staticClass:"infoDetail",attrs:{span:"20",offset:"0"}},[t._v(t._s(e.model))])],1)],1),n("van-divider",{style:{margin:"10px 0"}}),n("van-row",{staticStyle:{"line-height":"30px","flex-wrap":"nowrap"},attrs:{type:"flex",justify:"space-between"}},[n("van-col",{staticClass:"infoName",staticStyle:{flex:"1 0 auto"},attrs:{span:"5",offset:"1"}},[t._v(t._s(t.$t("wristband.location"))+":")]),n("van-col",{staticClass:"infoDetail",attrs:{span:"13",offset:"1"}},[n("span",[t._v(t._s(e.bindInfo?e.bindInfo:t.$t("wristband.unbounded")))])]),n("van-col",{staticStyle:{flex:"1 1 96px"},attrs:{span:"4"}},[e.schoolPositionInfoVOList?n("van-button",{directives:[{name:"permission",rawName:"v-permission",value:["attendance-teacher-position-device-update"],expression:"['attendance-teacher-position-device-update']"}],staticClass:"bindBtn unBindBtn",attrs:{round:""},on:{click:function(a){return a.stopPropagation(),t.clickunBind(e)}}},[t._v(t._s(t.$t("wristband.unbundling")))]):n("van-button",{directives:[{name:"permission",rawName:"v-permission",value:["attendance-teacher-position-device-update"],expression:"['attendance-teacher-position-device-update']"}],staticClass:"bindBtn",attrs:{round:"",color:"linear-gradient(to right, #79DABD, #4CD7EC)",type:"button"},on:{click:function(a){return a.stopPropagation(),t.clickBind(e)}}},[t._v(t._s(t.$t("wristband.toBinding")))])],1)],1)],1)})):2==t.deviceType?t._l(t.dataList,(function(e){return n("li",{key:e.mac,staticClass:"list-li",on:{click:function(a){return t.selectSation(e)}}},[n("div",{staticClass:"stationInfo"},[n("van-row",[n("van-col",{staticClass:"infoName",attrs:{span:"4",offset:"1"}},[t._v(t._s(t.$t("wristband.equipmentName"))+":")]),n("van-col",{staticClass:"infoDetail",attrs:{span:"8",offset:"0"}},[t._v(t._s(e.deviceName))]),n("van-col",{staticClass:"infoName",attrs:{span:"3",offset:"1"}},[t._v(t._s(t.$t("wristband.type"))+":")]),n("van-col",{staticClass:"infoDetail",attrs:{span:"5",offset:"0"}},[t._v(t._s(e.category))])],1),n("van-row",[n("van-col",{staticClass:"infoName",attrs:{span:"4",offset:"1"}},[t._v(t._s(t.$t("wristband.serialNumber"))+":")]),n("van-col",{staticClass:"infoDetail",attrs:{span:"19",offset:"0"}},[t._v(t._s(e.mac))])],1),n("van-row",[n("van-col",{staticClass:"infoName",attrs:{span:"3",offset:"1"}},[t._v(t._s(t.$t("wristband.model"))+":")]),n("van-col",{staticClass:"infoDetail",attrs:{span:"20",offset:"0"}},[t._v(t._s(e.model))])],1)],1)])})):t._e(),n("van-empty",{directives:[{name:"show",rawName:"v-show",value:0==t.dataList.length&&0==t.isLoading,expression:"dataList.length == 0 && isLoading == false"}],attrs:{description:t.$t("wristband.empty")}},[n("template",{slot:"image"},[n("div",[n("img",{attrs:{src:a("52c4")}})])])],2)],2)])],1)],1)],1)},o=[],c=(a("445a"),a("cca2"),a("6540"),a("1d7a"),a("28f8")),s=(a("7336"),a("b08c")),r=(a("3f27"),a("8048")),l=a("da1d"),d=a("a4fb"),u=(n={components:{navBar:l["a"]},mounted:function(){},data:function(){return{list:[],deviceType:1,loading:!1,finished:!1,isLoading:!1,active:0,tabList:[this.$t("wristband.beacon"),this.$t("wristband.station")],pageNum:1,dataList:[]}}},Object(c["a"])(n,"mounted",(function(){})),Object(c["a"])(n,"methods",{onClickLeft:function(){this.$router.go(-1)},onClickRight:function(){this.$router.push("/polling/management/swpw")},selectSation:function(t){this.$router.push({name:"wristband-equipmentManage-stationDetail",query:{data:t}})},selectItem:function(t){this.$router.push({name:"wristband-equipmentManage-beaconDetail",query:{data:t}})},clickBind:function(t){this.$router.push({name:"wristband-equipmentManage-bindBeacon",query:{data:t}})},clickunBind:function(t){var e=this;r["a"].confirm({title:this.$t("wristband.tips"),message:this.$t("wristband.locationUnbindTips")}).then((function(){d["a"].unBindBeacon({deviceId:t.deviceId}).then((function(t){Object(s["a"])(e.$t("wristband.unbundlingSuccess")),e.onRefresh()}))})).catch((function(){}))},getList:function(){var t=this;d["a"].getCornerManagerList({deviceType:this.deviceType,pageNum:this.pageNum,pageSize:10}).then((function(e){e.data.list&&e.data.list.length>0?(t.pageNum++,t.dataList=t.dataList.concat(e.data.list||[]),1==t.deviceType&&(t.dataList=t.dataList.map((function(t){return t.bindInfo=(t.schoolPositionInfoVOList||[]).map((function(t){return t.name})).join(","),t})))):t.finished=!0,t.isLoading=!1,t.loading=!1}))},selectTab:function(t,e){this.dataList=[],this.pageNum=1,this.deviceType=0==t?1:2,this.getList()},startTaskAction:function(t){var e=this;d["a"].startTaskAction({orderBizId:t.orderBizId}).then((function(t){e.selectTab(e.deviceType)}))},onLoad:function(){this.getList()},onRefresh:function(){this.dataList=[],this.finished=!1,this.loading=!0,this.pageNum=1,this.selectTab(this.active)}}),n),p=u,f=(a("2bdb"),a("c701")),b=Object(f["a"])(p,i,o,!1,null,"15396b3e",null);e["default"]=b.exports},f257:function(t,e,a){}}]);